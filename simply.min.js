simply={components:{},parseTemplate:function(parsingArgs){var{template:template,data:data,style:style,state:state,parent:parent,methods:methods,props:props,component:component,dom:dom,methods:methods,lifecycle:lifecycle,watch:watch}=parsingArgs;let simplyTemplate=/\<template([^<>]*)simply([^<>]*)>$/,ifStart=/\<if(\s+)cond=\"(.*)\"(\>$)/,ifEnd=/\<\/if\>$/,elsifStart=/\<elsif(\s+)cond=\"(.*)\"(\>$)/,elsifEnd=/\<\/elsif\>$/,elseStart=/\<else\>$/,elseEnd=/\<\/else\>$/,eachStart=/\<each\s+of\=\"(?<of>[^"]*)\"\s+as\=\"(?<as>[^"]*)\"(\s+key\=\"(?<key>[^"]*)\")?(\s+index\=\"(?<index>[^"]*)\")?\>$/gm,eachEnd=/\<\/each\>$/,inTagVar=/:="(?<l>[^"]*)"$/,ifCount=0,eachCount=0,m,bucket="";var processedLetters="",capturedLogics=[],staticLetters="",flag=!1,curlyCount=0,curlyFlag=!1,varBucket="",scriptCount=0,styleCount=0,templateCount=0,simplyTemplateCount=0,ignoreFlag=!1;template=template.replace(/\$\{/g,"minyeli{");for(var i=0;i<template.length;i++){if(processedLetters+=template[i],bucket+=template[i],"<script"===bucket.substr(-"<script".length)?scriptCount+=1:"<style"===bucket.substr(-"<style".length)?styleCount+=1:simplyTemplate.test(bucket)?simplyTemplateCount+=1:"<\/script>"===bucket.substr(-"<\/script>".length)?scriptCount-=1:"</style>"===bucket.substr(-"</style>".length)?styleCount-=1:"</template>"===bucket.substr(-"</template>".length)&&(simplyTemplateCount-=1),0==simplyTemplateCount&&0==styleCount&&0==scriptCount)if('="function'!==bucket.substr(-'="function'.length)&&'="(function'!==bucket.substr(-'="(function'.length)||(ignoreFlag=!0),"\\"!==template[i-1]&&"{"==template[i]&&(curlyCount+=1),curlyCount>0&&!1===ignoreFlag&&(varBucket+=template[i]),"\\"!==template[i-1]&&"}"==template[i]&&(curlyCount-=1,0==curlyCount&&!0===ignoreFlag&&(ignoreFlag=!1)),0==curlyCount&&""!==varBucket){varBucket=varBucket.trim();let variable=varBucket.trim().substring(1,varBucket.length-1);try{"object"==typeof JSON.parse("{"+variable.replace(/[^\\]'/g,'"').replace(/\\'/g,"'")+"}")&&(variable='"'+varBucket.trim()+'"')}catch(error){}logic="ht+="+variable+";",flag=!0}else if(null!==(m=inTagVar.exec(bucket)))logic="ht+="+m.groups.l+";",flag=!0;else if(null!==(m=ifStart.exec(bucket)))logic=unescape("if ("+m[2]+") {"),ifCount+=1,flag=!0;else if(null!==(m=elsifStart.exec(bucket)))logic=unescape(m[2]),logic="else if ("+logic+") {",flag=!0;else if(null!==(m=elseStart.exec(bucket)))logic="else {",flag=!0;else if(null!==(m=ifEnd.exec(bucket)))ifCount-=1,logic="}",flag=!0;else if(null!==(m=elsifEnd.exec(bucket)))logic="}",flag=!0;else if(null!==(m=elseEnd.exec(bucket)))logic="}",flag=!0;else if(null!==(m=eachStart.exec(bucket))){eachCount+=1;try{subject=eval(m.groups.of)}catch(error){subject=m.groups.of}if(iiii="s"+Math.random().toString(36).slice(-7),Array.isArray(subject)){key=void 0!==m.groups.key?"let "+m.groups.key+" = "+iiii+";":"";let index=void 0!==m.groups.key?"let "+m.groups.index+" = "+iiii+";":"";logic="for ("+iiii+" = 0; "+iiii+" < "+m.groups.of+".length; "+iiii+"++) { \t\t\t\t\t\t\t\t\t\t\t\t\t"+key+"; \t\t\t\t\t\t\t\t\t\t\t\t\t"+index+"; \t\t\t\t\t\t\t\t\t\t\t\t\tlet "+m.groups.as+"="+m.groups.of+"["+iiii+"];"}else key=void 0!==m.groups.index?"let "+m.groups.index+" = ":"",logic="\t\t\t\t\t\t\t\t\t\t\tfor (var ii in "+m.groups.of+") { \t\t\t\t\t\t\t\t\t\t\t\tif (ii == '__o_' || ii == '__c_' || ii == '__p_' || ii == '__r_' || typeof "+m.groups.of+"[ii] == 'function') { continue; }\t\t\t\t\t\t\t\t\t\t\t\t"+key+"Object.keys("+m.groups.of+").indexOf(ii); \t\t\t\t\t\t\t\t\t\t\t\tlet "+m.groups.key+"= ii; \t\t\t\t\t\t\t\t\t\t\t\tlet "+m.groups.as+"="+m.groups.of+"[ii];";flag=!0,lastM=m.groups.of,lasti=iiii}else null!==(m=eachEnd.exec(bucket))&&(eachCount-=1,logic="};",flag=!0);if(!0===flag){try{capturedLogics.push(m[0])}catch(error){capturedLogics.push(varBucket),varBucket=""}let logicLine=capturedLogics[capturedLogics.length-1];staticText=processedLetters.substring(0,processedLetters.lastIndexOf(logicLine))+"";let replaceThis=staticText+logicLine;var withThis="ht+=`"+staticText.replace(/\n/g,"")+"`;"+logic;if(""==staticText.trim())var withThis=logic;else var withThis="ht+=`"+staticText.replace(/\n/g,"")+"`;"+logic;bucket=bucket.replace(replaceThis,withThis),flag=!1,processedLetters=""}}""!==processedLetters.trimEnd()&&(processedLettersRegex=processedLetters.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),bucket=bucket.replace(new RegExp(processedLettersRegex+"$"),"ht+=`"+processedLetters.trimEnd()+"`;"));var ht="";return bucket=bucket.replace(/minyeli/g,"$"),eval(bucket),ht},parseStyle:function(parsingArgs){var{template:template,style:style,data:data,state:state,parent:parent,methods:methods,props:props,component:component,dom:dom,methods:methods,lifecycle:lifecycle,watch:watch}=parsingArgs;let variable=/(\"|\')(\{)([^{}\n]*)\}(\"|\')/;for(var vars={};null!==(m=variable.exec(style));){m.index===variable.lastIndex&&variable.lastIndex++;var variableName="--"+m[3].replace(/\./g,"-"),variableValue=eval(m[3]);vars[variableName]=variableValue,style=style.split(m[0]).join("var("+variableName+")")}return{style:style,vars:vars}},getBetweenTag:function(obj){let{string:string,tag:tag,prop:prop}=obj,open,anyOpen=new RegExp("<"+tag+"([^<>]*)>$","i"),close=new RegExp("</"+tag+">$","i"),captureFlag=!1,bucket,capture="",count=0;open=prop?new RegExp("<"+tag+"([^<>]*)"+prop+"([^<>]*)>$","i"):anyOpen;for(var i=0;i<string.length;i++)if(bucket+=string[i],open.test(bucket))captureFlag=!0,count+=1;else if(anyOpen.test(bucket))count+=1;else if(captureFlag&&close.test(bucket)){if(count-=1,capture+=string[i],0==count){let simplyTemplate=/^\<template([^<>]*)simply([^<>]*)>/;return capture=capture.trim(),capture=capture.replace(simplyTemplate,""),capture=capture.replace(close,""),capture=capture.trim(),capture}}else captureFlag&&(capture+=string[i])},getObject:function(string,name){var open=/uno(\s+)?\=(\s+)?{$/,bucket="",capture="",captureFlag=!1;count=0;for(var i=0;i<string.length;i++)if(bucket+=string[i],open.test(bucket)?(captureFlag=!0,count+=1):captureFlag&&"{"==string[i]?count+=1:captureFlag&&"}"==string[i]&&(count-=1),captureFlag&&(capture+=string[i],0==count))return capture},loadJS:function(src,cb,waitBeforeCb){
/*! loadJS: load a JS file asynchronously. [c]2014 @scottjehl, Filament Group, Inc. (Based on http://goo.gl/REQGQ by Paul Irish). Licensed MIT */
if(document.querySelectorAll('[src="'+src+'"]').length>0)if(window[waitBeforeCb])cb();else var tryAmount=10,tryCount=0,a=setInterval(()=>{!window[waitBeforeCb]&&tryCount<10?tryCount+=1:(cb(),clearInterval(a))},50);else{var tmp,ref=window.document.getElementsByTagName("script")[0],script=window.document.createElement("script");script.src=src,script.async=!0,ref.parentNode.insertBefore(script,ref),cb&&"function"==typeof cb&&(script.onload=cb)}return script},get:function(path,name){if(simply.gets=simply.gets?simply.gets:[],Array.isArray(path))for(let i=0;i<path.length;i++)simply.gets.push(path[i]),addUnoAndContinue(path[i]);else simply.gets.push(path),addUnoAndContinue(path);function addUnoAndContinue(p){simply.loadComponent(p,name,(function(component){simply.getSettings(component,(function(settings){simply.registerComponent(settings)}))}))}},jsdoc:function(str){return str.replace(/(\n[ \t]*\/\/\/[^\n]*)+/g,(function($){var replacement;return"\n/**"+$.replace(/^[ \t]*\/\/\//gm,"").replace(/(\n$|$)/,"*/$1")}))},loadComponent:function(path,name,callback){if(void 0===name)var ext=path.split(".").pop(),name=path.split("\\").pop().split("/").pop().split(".").slice(0,-1).join(".");else if(name.indexOf(".")>-1)var ext=name.split(".").pop(),name=name.replace("."+ext,"");else var ext="html";if("js"==ext);else if("html"==ext&&void 0===simply.components[name]){simply.components[name]={};var request=new XMLHttpRequest;request.open("GET",path,!0),request.onload=function(){if(this.status>=200&&this.status<400){let docStr=this.response,parsed=simply.splitComponent(this.response);simply.components[name]=parsed,callback({name:name,template:parsed.template,styles:parsed.styles,script:parsed.script,docStr:docStr})}},request.onerror=function(){},request.send()}},request:function(url,callback,async=!1){var request=new XMLHttpRequest;request.open("GET",url,async),request.onload=function(){if(this.status>=200&&this.status<400){try{response=JSON.parse(this.responseText)}catch(err){response=this.responseText}callback&&callback(response)}},request.send()},splitComponent:function(string){var txt=document.createElement("textarea"),parser,dom=(new DOMParser).parseFromString(string,"text/html"),template,styles={};dom.querySelector("style")&&dom.querySelectorAll("style").forEach(styleEl=>{txt.innerHTML=styleEl.innerHTML,style=txt.value,string=string.replace(txt.value,""),null!==styleEl.getAttribute("global")?styles.global=style:styles.local=style,styleEl.remove()});var script="";if(dom.querySelector("script")){var script=dom.querySelector("script");txt.innerHTML=script.innerHTML,script=txt.value,dom.querySelector("script").remove(),string=string.replace(txt.value,"")}return{template:template=string.replace("<style></style>","").replace("<style global></style>","").replace("<script><\/script>",""),styles:styles,script:script}},processPropTemplate:function(string){var propsFromTemplate=string;return propsFromTemplate=(propsFromTemplate=propsFromTemplate.replace(/[^\\]'/g,'"').replace(/\\'/g,"'")).replace(/(?:\r\n|\r|\n)/g," "),propsFromTemplate=Function("return "+propsFromTemplate)(),propsFromTemplate=simply.customStringify(propsFromTemplate),propsFromTemplate=JSON.parse(propsFromTemplate)},parseProp:function(contentString){var type,value,parsed,content;content=contentString.replace(/[^\\]'/g,'"'),content=content.replace(/\\\'/g,"'");try{parsed=JSON.parse(content),type=typeof parsed,value=parsed,Array.isArray(parsed)&&(type="array")}catch(e){let func=content;func=eval(func),"function"==typeof func&&(type="function",value=eval("("+func+")"))}finally{return null==type&&(type="string",value=contentString),{type:type,value:value,str:content}}},prepareAttr:function(value){let type=typeof value;return Array.isArray(value)||"object"==type||"number"==type||"boolean"==type?simply.customStringify(value).replace(/[^\\]'/g,"\\'").replace(/[^\\]"/g,"'").replace(/\"/g,"'"):"function"==type?value.toString().replace(/[^\\]'/g,'"').replace(/\\'/g,"'"):value},customStringify:function(v){const cache=new Set;return JSON.stringify(v,(function(key,value){if("__c_"!==key&&"__o_"!==key&&"__p_"!==key&&"__r_"!==key){if("object"==typeof value&&null!==value){if(cache.has(value))try{return JSON.parse(JSON.stringify(value))}catch(err){return}cache.add(value)}else if("function"==typeof value)return value.toString().replace(/[^\\]'/g,'"').replace(/\\'/g,"'");return value}}))},getSettings:function({name:name,template:template,styles:styles,script:script,docStr:docStr},callback){function getListeners(settings){return settings}callback({name:name,template:template,styles:styles,script:script,docStr:docStr})},runGetsReturnClass:function(scr,compName){var gets,classRegex=/class(\s+simply)?(\s+)?{/,classLine=classRegex.exec(scr),m;if(classLine){var scriptParts=scr.split(classLine[0]);gets=scriptParts[0];var clss=classLine[0]+scriptParts[1]}else gets=scr;for(var importRegex=/\s*get\((\s+)?(\[)?([\s\S]*?)?(\,)?(\s+)?\]?(\s+)?\)(\;)?/gm;null!==(m=importRegex.exec(gets));)eval(m[0]);try{if(0==clss.trim().indexOf(classLine[0])){if(clss=clss=clss.replace(classRegex,"class {"),/uno(\s+)?\=(\s+)?{/.test(clss)){var uno=simply.getObject(clss,"uno");clss=clss.replace(uno,"{}"),window.unoConfig=uno}return"//"+compName+"//"+compName+"\n\nnew "+clss.trim()+"//@ sourceURL="+compName+".html"}}catch(error){return!1}},registerComponent:function({template:template,styles:styles,name:name,script:script,docStr:docStr,noFile:noFile}){if(!customElements.get(name)){class simplyComponent extends HTMLElement{constructor(){super();let sfcClass=eval(simply.runGetsReturnClass(script,name));if(this.sfcClass=sfcClass||{},this.querySelector("template[simply]")){let t=this.querySelector("template[simply]").innerHTML.replace(/\s{2,}/g,"\n\n");this.inlineComp=simply.splitComponent(t);let inlineClassAsText=simply.runGetsReturnClass(this.inlineComp.script,name);var inlineCompClass=eval(inlineClassAsText);for(var key in inlineCompClass)if(key.match("data|state|methods|lifecycle|props"))for(var childKey in inlineCompClass[key]){this.sfcClass[key]||(this.sfcClass[key]={});let value=inlineCompClass[key][childKey];this.sfcClass[key][childKey]=value}}void 0!==this.sfcClass.lifecycle&&void 0!==this.sfcClass.lifecycle.beforeConstruct&&this.sfcClass.lifecycle.beforeConstruct();var open=!1;null!==this.getAttribute("open")&&(open=!0);var uid="id"+Math.random().toString(16).slice(2),component=this;if(open)var dom=this,parent=simply.findShadowRootOrCustomElement(this);else{var dom=this.attachShadow({mode:"open"}),parent=this.getRootNode().host;parent||(parent=simply.findShadowRootOrCustomElement(this))}var data=this.sfcClass.data?this.sfcClass.data:{},props=this.sfcClass.props?this.sfcClass.props:{},methods=this.sfcClass.methods,watch=this.sfcClass.watch,lifecycle=this.sfcClass.lifecycle,state,cb={};this.component=component,this.props=props,this.dom=dom,this.lifecycle=lifecycle,this.data=data,this.methods=methods,this.watch=watch,this.parent=parent,this.uid=uid,this.open=open,this.cb=cb;var geval=eval;for(var key in sfcClass)if(!key.match("data|state|methods|lifecycle|props|dom|component|watch|parent")){var val=sfcClass[key];"object"==typeof val?val=simply.customStringify(val):"function"==typeof val?val=val.toString():"string"==typeof val&&(val="'"+val+"'"),geval("var "+key+"="+val+";")}for(var i=0;i<this.attributes.length;i++){var attrib=this.attributes[i];"cb"!==attrib.name&&(props[attrib.name]=simply.parseProp(attrib.value).value)}if(this.sfcClass.uno&&(this.uno=this.sfcClass.uno),styles.global&&(this.globalStyle=styles.global),parent){if(template.indexOf("state.")>-1||script.indexOf("state.")>-1){let current=parent;for(;current;){if(current.state){this.state=current.state,this.cb.state=parent.cb.state;break}current=current.parent}}void 0!==parent.globalStyle&&(this.globalStyle=parent.globalStyle)}if(void 0!==this.sfcClass.state){this.state||(this.state={});var newStates=this.sfcClass.state;for(let key in newStates)this.state[key]=newStates[key]}state=component.state,parent=component.parent,cb=component.cb,Object.defineProperty(this,"state",{get:function(){return state},set:function(v){state=v}}),Object.defineProperty(this,"parent",{get:function(){return parent},set:function(v){void 0!==(parent=v).globalStyle&&(component.globalStyle=parent.globalStyle)}}),this.setData=function(newValue){data=newValue},this.setCbData=function(newValue){cb.data=newValue},this.setProps=function(newValue){props=newValue},this.setCbProps=function(newValue){cb.props=newValue},this.setState=function(newValue){state=newValue},this.setCbState=function(newValue){cb.state=newValue},void 0!==this.lifecycle&&void 0!==this.lifecycle.afterConstruct&&setTimeout(()=>{this.lifecycle.afterConstruct()},0)}observeAttrChange(el,callback){var self=this,observer=new MutationObserver((function(mutations){mutations.forEach((function(mutation){if("attributes"===mutation.type){var newVal=mutation.target.getAttribute(mutation.attributeName);callback(mutation.attributeName,newVal)}}))}));return observer.observe(el,{attributes:!0,childList:!1,characterData:!1,subtree:!1,attributeOldValue:!0,characterDataOldValue:!1}),observer}connectedCallback(){this.observeAttrChange(this,(function(name,newValue){if(newValue!==simply.prepareAttr(self.props[name])){try{newValue=simply.parseProp(newValue).value}catch(e){newValue=newValue}self.props[name]=newValue,void 0!==self.lifecycle&&void 0!==self.lifecycle.whenPropChange&&self.lifecycle.whenPropChange(name,self.props[name],newValue)}}));var self=this,hamdi=name,bub=void 0;this.react=function(name,value,prop=!1){if(self.data){if(void 0!==self.lifecycle&&void 0!==self.lifecycle.whenDataChange&&!1===self.lifecycle.whenDataChange(name,value))return!1;void 0!==self.watch&&self.watch(name,value),self.render()}};var proxies=new WeakMap;if(this.data){let handler={get:function(obj,prop,r){if(isObjectWithoutTriggeringGetter(obj,prop)){if(proxies.has(obj[prop]))return proxies.get(obj[prop]);{let proxy=new Proxy(obj[prop],handler);return proxies.set(obj[prop],proxy),proxy}}return obj[prop]},set:function(target,prop,value,receiver){if(target[prop]!==value){Reflect.set(...arguments);let old=target[prop];for(const[key,cb]of Object.entries(self.cb.data))cb&&cb(prop,value,old)}return!0},deleteProperty:function(target,prop){if(prop in target)return delete target[prop],!0;for(const[key,cb]of Object.entries(self.cb.data))cb&&cb(prop,null)}};(template.indexOf("data.")>-1||script.indexOf("data.")>-1)&&(this.cb.data={},this.cb.data[this.uid]=function(prop,value){self.react(prop,value)},this.data=new Proxy(this.data,handler),this.setData(this.data),this.setCbData(this.cb.data))}function isObjectWithoutTriggeringGetter(obj,prop){const descriptor=Object.getOwnPropertyDescriptor(obj,prop);if(descriptor&&"value"in descriptor){const value=descriptor.value;return null!==value&&"object"==typeof value}return!1}if(this.props){let handler={get:function(obj,prop){return obj[prop]},set:function(target,prop,value,receiver){if(target[prop]!==value){Reflect.set(...arguments);for(const[key,cb]of Object.entries(self.cb.props))cb&&cb(prop,value)}return!0},deleteProperty:function(target,prop){prop in target&&delete target[prop];for(const[key,cb]of Object.entries(self.cb.props))cb(prop,null)}};(template.indexOf("props.")>-1||script.indexOf("props.")>-1)&&(this.cb.props={},this.cb.props[this.uid]=function(prop,value){self.react(prop,value,!0)},this.props=new Proxy(this.props,handler),this.setProps(this.props),this.setCbProps(this.cb.props))}if(this.state){if(this.cb.state)(template.indexOf("state.")>-1||script.indexOf("state.")>-1)&&(this.cb.state[this.uid]=function(prop,value){self.react(prop,value)});else{let handler={get:function(obj,prop){if(isObjectWithoutTriggeringGetter(obj,prop)){if(proxies.has(obj[prop]))return proxies.get(obj[prop]);{let proxy=new Proxy(obj[prop],handler);return proxies.set(obj[prop],proxy),proxy}}return obj[prop]},set:function(target,prop,value,receiver){if(target[prop]!==value){Reflect.set(...arguments);for(const[key,cb]of Object.entries(self.cb.state))cb&&cb(prop,value)}return!0},deleteProperty:function(target,prop){prop in target&&delete target[prop];for(const[key,cb]of Object.entries(self.cb.state))cb&&cb(prop,null)}};(template.indexOf("state.")>-1||script.indexOf("state.")>-1)&&(this.cb.state={},this.cb.state[this.uid]=function(prop,value){self.react(prop,value)},this.state=new Proxy(this.state,handler))}this.setState(this.state),(template.indexOf("state.")>-1||script.indexOf("state.")>-1)&&this.setCbState(this.cb.state)}this.render()}render(){let m,regex=/\s+on[a-z]+(\s+)?\=(\s+)?(\"|\')(?<match>[^"\n]*)(\"|\')/gm;for(;null!==(m=regex.exec(template));){if(m.index===regex.lastIndex&&regex.lastIndex++,this.open)var match="simply.findShadowRootOrCustomElement(this)";else var match="this.getRootNode().host";if(-1==m.groups.match.indexOf(match)){var builtinVars=["state.","parent.","methods.","lifecycle.","data.","props.","component.","dom."],newValue=m[0];builtinVars.forEach(v=>{newValue=(newValue=newValue.replaceAll(v,match+"."+v)).replaceAll("."+match,"")}),template=template.replaceAll(m[0],newValue)}}if(this.inlineComp){let inlineTemp=this.querySelector("template[simply]"),htmlMethod=inlineTemp.getAttribute("html"),styleMethod=inlineTemp.getAttribute("style");if("replace"==htmlMethod||noFile)template=this.inlineComp.template;else if("prepend"==htmlMethod)var mergedTemp=template.replace("<html>","<html>"+this.inlineComp.template);else{template=template.trim();var mergedTemp=template.replace(/<\/html>$/s,this.inlineComp.template.trim()+"</html>")}"replace"==styleMethod||noFile?styles.local=this.inlineComp.styles.local:"prepend"==styleMethod?styles.local=this.inlineComp.styles.local+styles.local:styles.local+=this.inlineComp.styles.local}var tmpl=mergedTemp||template;let parsingArgs={template:tmpl,style:styles.local,data:this.data,state:this.state,parent:this.parent,methods:this.methods,props:this.props,component:this.component,dom:this.dom,methods:this.methods,lifecycle:this.lifecycle,watch:this.watch};if(this.globalStyle)var parsedGlobalStyle=simply.parseStyle({template:template,style:this.globalStyle,data:this.data,state:this.state,parent:this.parent,methods:this.methods,props:this.props,component:this.component,dom:this.dom,methods:this.methods,lifecycle:this.lifecycle,watch:this.watch});if(this.rendered){void 0!==this.lifecycle&&void 0!==this.lifecycle.beforeRerender&&this.lifecycle.beforeRerender();let parsedTemplate=simply.parseTemplate(parsingArgs);parsedTemplate=parsedTemplate.replace("<html>","").replace("</html>","");var parsedStyle=simply.parseStyle(parsingArgs),newDom=parsedTemplate+"<style uno></style><style global>"+(parsedGlobalStyle?parsedGlobalStyle.style:"")+"</style><style simply>:host([hoak]) {display: none;} "+parsedStyle.style+"</style><style simply-vars></style>";if(this.open){var newDomAsString="<"+name+" open>"+newDom+"</"+name+">";morphIt(this.dom)}else{var newDomAsString="<"+name+">"+newDom+"</"+name+">";morphIt(this.dom)}function morphIt(dom){simply.morphdom(dom,newDomAsString,{childrenOnly:!0,onBeforeElUpdated:function(fromEl,toEl){return!fromEl.isSameNode(toEl)&&!fromEl.isEqualNode(toEl)},onBeforeNodeDiscarded:function(node){},onBeforeElChildrenUpdated:function(fromEl,toEl){if(customElements.get(fromEl.tagName.toLowerCase()))return!1;if(fromEl.isSameNode(toEl))return!1;if(fromEl.isEqualNode(toEl))return!1;if("CHILD-COMPONENT"==fromEl.tagName);else{if("STYLE"==fromEl.tagName)return!1;if(!0===toEl.hasAttribute("passive"))return!1;if("INPUT"===toEl.tagName){if("RADIO"==toEl.type||"CHECKBOX"==toEl.type)return!1;toEl.value=fromEl.value}else{if("ROUTER"===toEl.tagName)return!1;if("LABEL"==toEl.tagName){if(fromEl.isEqualNode(toEl))return!1}else"OPTION"===toEl.tagName&&(toEl.selected=fromEl.selected)}}}})}if(this.globalStyle)var parsedGlobalStyle=simply.parseStyle({template:template,style:this.globalStyle,data:this.data,state:this.state,parent:this.parent,methods:this.methods,props:this.props,component:this.component,dom:this.dom,methods:this.methods,lifecycle:this.lifecycle,watch:this.watch});if(parsedGlobalStyle)for(var key in parsedGlobalStyle.vars)parsedGlobalStyle.vars.hasOwnProperty(key)&&this.sheet.cssRules[0].style.setProperty(key,parsedGlobalStyle.vars[key]);for(var key in parsedStyle.vars)parsedStyle.vars.hasOwnProperty(key)&&this.sheet.cssRules[0].style.setProperty(key,parsedStyle.vars[key]);void 0!==this.lifecycle&&void 0!==this.lifecycle.afterRerender&&setTimeout(()=>{this.lifecycle.afterRerender()},0)}else{var self=this;let parsedTemplate=simply.parseTemplate(parsingArgs);var parsedStyle=simply.parseStyle(parsingArgs);if(parsedTemplate=parsedTemplate+"<style uno></style><style global>"+(parsedGlobalStyle?parsedGlobalStyle.style:"")+"</style><style simply>:host([hoak]) {display: none;} "+parsedStyle.style+"</style><style simply-vars></style>",void 0!==this.lifecycle&&void 0!==this.lifecycle.beforeFirstRender&&void 0!==this.lifecycle.beforeFirstRender(parsedTemplate)&&(parsedTemplate=this.lifecycle.beforeFirstRender(parsedTemplate)),this.dom.innerHTML=parsedTemplate,simply.setupInlineComps(this.dom,docStr,template),window.unoConfig){var classObserver,handleUnoClasses=function(dom){try{classObserver.disconnect()}catch(error){}window.unoConfig.generate||(window.unoConfig=createGenerator(eval("window.unoConfig="+window.unoConfig))),window.unoConfig.generate(dom.innerHTML).then((function(result){var twReset='a,hr{color:inherit}progress,sub,sup{vertical-align:baseline}blockquote,body,dd,dl,fieldset,figure,h1,h2,h3,h4,h5,h6,hr,menu,ol,p,pre,ul{margin:0}dialog,fieldset,legend,menu,ol,ul{padding:0}*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:var(--un-default-border-color,#e5e7eb)}::after,::before{--un-content:\'\'}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{line-height:inherit}hr{height:0;border-top-width:1px}abbr:where([title]){text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}menu,ol,ul{list-style:none}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}';self.dom.querySelector("style[uno]").innerHTML=twReset+result.css,(classObserver=new MutationObserver((function(mutations){handleUnoClasses(self.dom)}))).observe(dom,{attributes:!0,attributeFilter:["class"],childList:!0,subtree:!0,attributeOldValue:!0})}))};handleUnoClasses(self.dom)}try{this.open?this.sheet=this.querySelector("style[simply-vars]").sheet:this.sheet=this.dom.getRootNode().querySelector("style[simply-vars]").sheet;var vars=":host {";if(parsedGlobalStyle)for(var key in parsedGlobalStyle.vars)parsedGlobalStyle.vars.hasOwnProperty(key)&&(vars+=key+":"+parsedGlobalStyle.vars[key]+";");for(var key in parsedStyle.vars)parsedStyle.vars.hasOwnProperty(key)&&(vars+=key+":"+parsedStyle.vars[key]+";");this.sheet.insertRule(vars+"}",0)}catch(error){}void 0!==this.lifecycle&&void 0!==this.lifecycle.afterFirstRender&&setTimeout(()=>{this.lifecycle.afterFirstRender()},0)}this.rendered=!0}disconnectedCallback(){this.cb.state&&(this.cb.state[this.uid]=null),this.parent&&this.parent.cb&&(this.parent.cb.data&&(this.parent.cb.data[this.uid]=null),this.parent.cb.state&&(this.parent.cb.state[this.uid]=null),this.parent.cb.props&&(this.parent.cb.props[this.uid]=null)),void 0!==this.lifecycle&&void 0!==this.lifecycle.disconnected&&this.lifecycle.disconnected()}}customElements.define(name,simplyComponent)}},setWithoutRender:function(target,props){Object.defineProperties(target,Object.keys(props).reduce((descriptors,key)=>(descriptors[key]={value:props[key],writable:!0,enumerable:!0,configurable:!0},descriptors),{}))},Router:function(){!function(){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _possibleConstructorReturn(self,call){return!call||"object"!=typeof call&&"function"!=typeof call?_assertThisInitialized(self):call}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function toArray(objectOrArray){return objectOrArray=objectOrArray||[],Array.isArray(objectOrArray)?objectOrArray:[objectOrArray]}function log(msg){return"[Router] ".concat(msg)}function logValue(value){if("object"!==_typeof(value))return String(value);var stringType=Object.prototype.toString.call(value).match(/ (.*)\]$/)[1];return"Object"===stringType||"Array"===stringType?"".concat(stringType," ").concat(JSON.stringify(value)):stringType}var MODULE="module",NOMODULE="nomodule",bundleKeys=[MODULE,NOMODULE];function ensureBundle(src){if(!src.match(/.+\.[m]?js$/))throw new Error(log('Unsupported type for bundle "'.concat(src,'": .js or .mjs expected.')))}function ensureRoute(route){if(!route||!isString(route.path))throw new Error(log('Expected route config to be an object with a "path" string property, or an array of such objects'));var bundle=route.bundle,stringKeys=["component","redirect","bundle"];if(!(isFunction(route.action)||Array.isArray(route.children)||isFunction(route.children)||isObject(bundle)||stringKeys.some((function(key){return isString(route[key])}))))throw new Error(log('Expected route config "'.concat(route.path,'" to include either "').concat(stringKeys.join('", "'),'" ')+'or "action" function but none found.'));if(bundle)if(isString(bundle))ensureBundle(bundle);else{if(!bundleKeys.some((function(key){return key in bundle})))throw new Error(log('Expected route bundle to include either "'+NOMODULE+'" or "'+MODULE+'" keys, or both'));bundleKeys.forEach((function(key){return key in bundle&&ensureBundle(bundle[key])}))}route.redirect&&["bundle","component"].forEach((function(overriddenProp){overriddenProp in route&&console.warn(log('Route config "'.concat(route.path,'" has both "redirect" and "').concat(overriddenProp,'" properties, ')+'and "redirect" will always override the latter. Did you mean to only use "'.concat(overriddenProp,'"?')))}))}function ensureRoutes(routes){toArray(routes).forEach((function(route){return ensureRoute(route)}))}function loadScript(src,key){var script=document.head.querySelector('script[src="'+src+'"][async]');return script||((script=document.createElement("script")).setAttribute("src",src),key===MODULE?script.setAttribute("type",MODULE):key===NOMODULE&&script.setAttribute(NOMODULE,""),script.async=!0),new Promise((function(resolve,reject){script.onreadystatechange=script.onload=function(e){script.__dynamicImportLoaded=!0,resolve(e)},script.onerror=function(e){script.parentNode&&script.parentNode.removeChild(script),reject(e)},null===script.parentNode?document.head.appendChild(script):script.__dynamicImportLoaded&&resolve()}))}function loadBundle(bundle){return isString(bundle)?loadScript(bundle):Promise.race(bundleKeys.filter((function(key){return key in bundle})).map((function(key){return loadScript(bundle[key],key)})))}function fireRouterEvent(type,detail){return!window.dispatchEvent(new CustomEvent("router-".concat(type),{cancelable:"go"===type,detail:detail}))}function isObject(o){return"object"===_typeof(o)&&!!o}function isFunction(f){return"function"==typeof f}function isString(s){return"string"==typeof s}function getNotFoundError(context){var error=new Error(log("Page not found (".concat(context.pathname,")")));return error.context=context,error.code=404,error}var notFoundResult=new function NotFoundResult(){_classCallCheck(this,NotFoundResult)};function getAnchorOrigin(anchor){var port=anchor.port,protocol=anchor.protocol,defaultHttp,defaultHttps,host="http:"===protocol&&"80"===port||"https:"===protocol&&"443"===port?anchor.hostname:anchor.host;return"".concat(protocol,"//").concat(host)}function routerGlobalClickHandler(event){if(!event.defaultPrevented&&0===event.button&&!(event.shiftKey||event.ctrlKey||event.altKey||event.metaKey)){for(var anchor=event.target,path=event.composedPath?event.composedPath():event.path||[],i=0,origin;i<path.length;i++){var target=path[i];if(target.nodeName&&"a"===target.nodeName.toLowerCase()){anchor=target;break}}for(;anchor&&"a"!==anchor.nodeName.toLowerCase();)anchor=anchor.parentNode;if(anchor&&"a"===anchor.nodeName.toLowerCase())if(!anchor.target||"_self"===anchor.target.toLowerCase())if(!anchor.hasAttribute("download"))if(anchor.pathname!==window.location.pathname||""===anchor.hash)if((anchor.origin||getAnchorOrigin(anchor))===window.location.origin){var _anchor=anchor,pathname,search,hash;fireRouterEvent("go",{pathname:_anchor.pathname,search:_anchor.search,hash:_anchor.hash})&&event.preventDefault()}}}var CLICK={activate:function activate(){window.document.addEventListener("click",routerGlobalClickHandler)},inactivate:function inactivate(){window.document.removeEventListener("click",routerGlobalClickHandler)}},isIE;function routerGlobalPopstateHandler(event){if("router-ignore"!==event.state){var _window$location=window.location,pathname,search,hash;fireRouterEvent("go",{pathname:_window$location.pathname,search:_window$location.search,hash:_window$location.hash})}}/Trident/.test(navigator.userAgent)&&!isFunction(window.PopStateEvent)&&(window.PopStateEvent=function(inType,params){params=params||{};var e=document.createEvent("Event");return e.initEvent(inType,Boolean(params.bubbles),Boolean(params.cancelable)),e.state=params.state||null,e},window.PopStateEvent.prototype=window.Event.prototype);var POPSTATE={activate:function activate(){window.addEventListener("popstate",routerGlobalPopstateHandler)},inactivate:function inactivate(){window.removeEventListener("popstate",routerGlobalPopstateHandler)}},pathToRegexp_1=pathToRegexp,parse_1=parse,compile_1=compile,tokensToFunction_1=tokensToFunction,tokensToRegExp_1=tokensToRegExp,DEFAULT_DELIMITER="/",DEFAULT_DELIMITERS="./",PATH_REGEXP=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function parse(str,options){for(var tokens=[],key=0,index=0,path="",defaultDelimiter=options&&options.delimiter||"/",delimiters=options&&options.delimiters||"./",pathEscaped=!1,res;null!==(res=PATH_REGEXP.exec(str));){var m=res[0],escaped=res[1],offset=res.index;if(path+=str.slice(index,offset),index=offset+m.length,escaped)path+=escaped[1],pathEscaped=!0;else{var prev="",next=str[index],name=res[2],capture=res[3],group=res[4],modifier=res[5];if(!pathEscaped&&path.length){var k=path.length-1;delimiters.indexOf(path[k])>-1&&(prev=path[k],path=path.slice(0,k))}path&&(tokens.push(path),path="",pathEscaped=!1);var partial=""!==prev&&void 0!==next&&next!==prev,repeat="+"===modifier||"*"===modifier,optional="?"===modifier||"*"===modifier,delimiter=prev||defaultDelimiter,pattern=capture||group;tokens.push({name:name||key++,prefix:prev,delimiter:delimiter,optional:optional,repeat:repeat,partial:partial,pattern:pattern?escapeGroup(pattern):"[^"+escapeString(delimiter)+"]+?"})}}return(path||index<str.length)&&tokens.push(path+str.substr(index)),tokens}function compile(str,options){return tokensToFunction(parse(str,options))}function tokensToFunction(tokens){for(var matches=new Array(tokens.length),i=0;i<tokens.length;i++)"object"===_typeof(tokens[i])&&(matches[i]=new RegExp("^(?:"+tokens[i].pattern+")$"));return function(data,options){for(var path="",encode=options&&options.encode||encodeURIComponent,i=0;i<tokens.length;i++){var token=tokens[i];if("string"!=typeof token){var value=data?data[token.name]:void 0,segment;if(Array.isArray(value)){if(!token.repeat)throw new TypeError('Expected "'+token.name+'" to not repeat, but got array');if(0===value.length){if(token.optional)continue;throw new TypeError('Expected "'+token.name+'" to not be empty')}for(var j=0;j<value.length;j++){if(segment=encode(value[j],token),!matches[i].test(segment))throw new TypeError('Expected all "'+token.name+'" to match "'+token.pattern+'"');path+=(0===j?token.prefix:token.delimiter)+segment}}else if("string"!=typeof value&&"number"!=typeof value&&"boolean"!=typeof value){if(!token.optional)throw new TypeError('Expected "'+token.name+'" to be '+(token.repeat?"an array":"a string"));token.partial&&(path+=token.prefix)}else{if(segment=encode(String(value),token),!matches[i].test(segment))throw new TypeError('Expected "'+token.name+'" to match "'+token.pattern+'", but got "'+segment+'"');path+=token.prefix+segment}}else path+=token}return path}}function escapeString(str){return str.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function escapeGroup(group){return group.replace(/([=!:$/()])/g,"\\$1")}function flags(options){return options&&options.sensitive?"":"i"}function regexpToRegexp(path,keys){if(!keys)return path;var groups=path.source.match(/\((?!\?)/g);if(groups)for(var i=0;i<groups.length;i++)keys.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return path}function arrayToRegexp(path,keys,options){for(var parts=[],i=0;i<path.length;i++)parts.push(pathToRegexp(path[i],keys,options).source);return new RegExp("(?:"+parts.join("|")+")",flags(options))}function stringToRegexp(path,keys,options){return tokensToRegExp(parse(path,options),keys,options)}function tokensToRegExp(tokens,keys,options){for(var strict=(options=options||{}).strict,start=!1!==options.start,end=!1!==options.end,delimiter=escapeString(options.delimiter||"/"),delimiters=options.delimiters||"./",endsWith=[].concat(options.endsWith||[]).map(escapeString).concat("$").join("|"),route=start?"^":"",isEndDelimited=0===tokens.length,i=0;i<tokens.length;i++){var token=tokens[i];if("string"==typeof token)route+=escapeString(token),isEndDelimited=i===tokens.length-1&&delimiters.indexOf(token[token.length-1])>-1;else{var capture=token.repeat?"(?:"+token.pattern+")(?:"+escapeString(token.delimiter)+"(?:"+token.pattern+"))*":token.pattern;keys&&keys.push(token),token.optional?token.partial?route+=escapeString(token.prefix)+"("+capture+")?":route+="(?:"+escapeString(token.prefix)+"("+capture+"))?":route+=escapeString(token.prefix)+"("+capture+")"}}return end?(strict||(route+="(?:"+delimiter+")?"),route+="$"===endsWith?"$":"(?="+endsWith+")"):(strict||(route+="(?:"+delimiter+"(?="+endsWith+"))?"),isEndDelimited||(route+="(?="+delimiter+"|"+endsWith+")")),new RegExp(route,flags(options))}function pathToRegexp(path,keys,options){return path instanceof RegExp?regexpToRegexp(path,keys):Array.isArray(path)?arrayToRegexp(path,keys,options):stringToRegexp(path,keys,options)}pathToRegexp_1.parse=parse_1,pathToRegexp_1.compile=compile_1,pathToRegexp_1.tokensToFunction=tokensToFunction_1,pathToRegexp_1.tokensToRegExp=tokensToRegExp_1;var hasOwnProperty=Object.prototype.hasOwnProperty,cache=new Map;function decodeParam(val){try{return decodeURIComponent(val)}catch(err){return val}}function matchPath(routepath,path,exact,parentKeys,parentParams){exact=!!exact;var cacheKey="".concat(routepath,"|").concat(exact),regexp=cache.get(cacheKey);if(!regexp){var keys=[];regexp={keys:keys,pattern:pathToRegexp_1(routepath,keys,{end:exact,strict:""===routepath})},cache.set(cacheKey,regexp)}var m=regexp.pattern.exec(path);if(!m)return null;for(var params=Object.assign({},parentParams),i=1;i<m.length;i++){var key=regexp.keys[i-1],prop=key.name,value=m[i];void 0===value&&hasOwnProperty.call(params,prop)||(key.repeat?params[prop]=value?value.split(key.delimiter).map(decodeParam):[]:params[prop]=value?decodeParam(value):value)}return{path:m[0],keys:(parentKeys||[]).concat(regexp.keys),params:params}}function matchRoute(route,pathname,ignoreLeadingSlash,parentKeys,parentParams){var match,childMatches,childIndex=0,routepath=route.path||"";return"/"===routepath.charAt(0)&&(ignoreLeadingSlash&&(routepath=routepath.substr(1)),ignoreLeadingSlash=!0),{next:function next(routeToSkip){if(route===routeToSkip)return{done:!0};var children=route.__children=route.__children||route.children;if(!match&&(match=matchPath(routepath,pathname,!children,parentKeys,parentParams)))return{done:!1,value:{route:route,keys:match.keys,params:match.params,path:match.path}};if(match&&children)for(;childIndex<children.length;){if(!childMatches){var childRoute=children[childIndex];childRoute.parent=route;var matchedLength=match.path.length;matchedLength>0&&"/"===pathname.charAt(matchedLength)&&(matchedLength+=1),childMatches=matchRoute(childRoute,pathname.substr(matchedLength),ignoreLeadingSlash,match.keys,match.params)}var childMatch=childMatches.next(routeToSkip);if(!childMatch.done)return{done:!1,value:childMatch.value};childMatches=null,childIndex++}return{done:!0}}}}function resolveRoute(context){if(isFunction(context.route.action))return context.route.action(context)}function isChildRoute(parentRoute,childRoute){for(var route=childRoute;route;)if((route=route.parent)===parentRoute)return!0;return!1}function generateErrorMessage(currentContext){var errorMessage="Path '".concat(currentContext.pathname,"' is not properly resolved due to an error."),routePath=(currentContext.route||{}).path;return routePath&&(errorMessage+=" Resolution had failed on route: '".concat(routePath,"'")),errorMessage}function addRouteToChain(context,match){var route=match.route,path=match.path;function shouldDiscardOldChain(oldChain,route){return!route.parent||!oldChain||!oldChain.length||oldChain[oldChain.length-1].route!==route.parent}if(route&&!route.__synthetic){var item={path:path,route:route};shouldDiscardOldChain(context.chain,route)?context.chain=[item]:context.chain.push(item)}}cache.set("|false",{keys:[],pattern:/(?:)/});var Resolver=function(){function Resolver(routes){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_classCallCheck(this,Resolver),Object(routes)!==routes)throw new TypeError("Invalid routes");this.baseUrl=options.baseUrl||"",this.errorHandler=options.errorHandler,this.resolveRoute=options.resolveRoute||resolveRoute,this.context=Object.assign({resolver:this},options.context),this.root=Array.isArray(routes)?{path:"",__children:routes,parent:null,__synthetic:!0}:routes,this.root.parent=null}return _createClass(Resolver,[{key:"getRoutes",value:function getRoutes(){return _toConsumableArray(this.root.__children)}},{key:"setRoutes",value:function setRoutes(routes){ensureRoutes(routes);var newRoutes=_toConsumableArray(toArray(routes));this.root.__children=newRoutes}},{key:"addRoutes",value:function addRoutes(routes){var _this$root$__children;return ensureRoutes(routes),(_this$root$__children=this.root.__children).push.apply(_this$root$__children,_toConsumableArray(toArray(routes))),this.getRoutes()}},{key:"removeRoutes",value:function removeRoutes(){this.setRoutes([])}},{key:"resolve",value:function resolve(pathnameOrContext){var _this=this,context=Object.assign({},this.context,isString(pathnameOrContext)?{pathname:pathnameOrContext}:pathnameOrContext),match=matchRoute(this.root,this.__normalizePathname(context.pathname),this.baseUrl),resolve=this.resolveRoute,matches=null,nextMatches=null,currentContext=context;function next(resume){var parent=arguments.length>1&&void 0!==arguments[1]?arguments[1]:matches.value.route,prevResult=arguments.length>2?arguments[2]:void 0,routeToSkip=null===prevResult&&matches.value.route;return matches=nextMatches||match.next(routeToSkip),nextMatches=null,resume||!matches.done&&isChildRoute(parent,matches.value.route)?matches.done?Promise.reject(getNotFoundError(context)):(addRouteToChain(context,matches.value),currentContext=Object.assign({},context,matches.value),Promise.resolve(resolve(currentContext)).then((function(resolution){return null!=resolution&&resolution!==notFoundResult?(currentContext.result=resolution.result||resolution,currentContext):next(resume,parent,resolution)}))):(nextMatches=matches,Promise.resolve(notFoundResult))}return context.next=next,Promise.resolve().then((function(){return next(!0,_this.root)})).catch((function(error){var errorMessage=generateErrorMessage(currentContext);if(error?console.warn(errorMessage):error=new Error(errorMessage),error.context=error.context||currentContext,error instanceof DOMException||(error.code=error.code||500),_this.errorHandler)return currentContext.result=_this.errorHandler(error),currentContext;throw error}))}},{key:"__normalizePathname",value:function __normalizePathname(pathname){if(!this.baseUrl)return pathname;var base=this.__effectiveBaseUrl,normalizedUrl=this.constructor.__createUrl(pathname,base).href;return normalizedUrl.slice(0,base.length)===base?normalizedUrl.slice(base.length):void 0}},{key:"__effectiveBaseUrl",get:function get(){return this.baseUrl?this.constructor.__createUrl(this.baseUrl,document.baseURI||document.URL).href.replace(/[^\/]*$/,""):""}}],[{key:"__createUrl",value:function __createUrl(url,base){return new URL(url,base)}}]),Resolver}();Resolver.pathToRegexp=pathToRegexp_1;var pathToRegexp$1=Resolver.pathToRegexp,cache$1=new Map;function cacheRoutes(routesByName,route,routes){var name=route.name||route.component;if(name&&(routesByName.has(name)?routesByName.get(name).push(route):routesByName.set(name,[route])),Array.isArray(routes))for(var i=0;i<routes.length;i++){var childRoute=routes[i];childRoute.parent=route,cacheRoutes(routesByName,childRoute,childRoute.__children||childRoute.children)}}function getRouteByName(routesByName,routeName){var routes=routesByName.get(routeName);if(routes&&routes.length>1)throw new Error('Duplicate route with name "'.concat(routeName,'".')+" Try seting unique 'name' route properties.");return routes&&routes[0]}function getRoutePath(route){var path=route.path;return void 0!==(path=Array.isArray(path)?path[0]:path)?path:""}function generateUrls(router){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(router instanceof Resolver))throw new TypeError("An instance of Resolver is expected");var routesByName=new Map;return function(routeName,params){var route=getRouteByName(routesByName,routeName);if(!(route||(routesByName.clear(),cacheRoutes(routesByName,router.root,router.root.__children),route=getRouteByName(routesByName,routeName))))throw new Error('Route "'.concat(routeName,'" not found'));var regexp=cache$1.get(route.fullPath);if(!regexp){for(var fullPath=getRoutePath(route),rt=route.parent;rt;){var path=getRoutePath(rt);path&&(fullPath=path.replace(/\/$/,"")+"/"+fullPath.replace(/^\//,"")),rt=rt.parent}for(var tokens=pathToRegexp$1.parse(fullPath),toPath=pathToRegexp$1.tokensToFunction(tokens),keys=Object.create(null),i=0;i<tokens.length;i++)isString(tokens[i])||(keys[tokens[i].name]=!0);regexp={toPath:toPath,keys:keys},cache$1.set(fullPath,regexp),route.fullPath=fullPath}var url=regexp.toPath(params,options)||"/";if(options.stringifyQueryParams&&params){for(var queryParams={},_keys=Object.keys(params),_i=0;_i<_keys.length;_i++){var key=_keys[_i];regexp.keys[key]||(queryParams[key]=params[key])}var query=options.stringifyQueryParams(queryParams);query&&(url+="?"===query.charAt(0)?query:"?".concat(query))}return url}}var triggers=[];function setNavigationTriggers(newTriggers){triggers.forEach((function(trigger){return trigger.inactivate()})),newTriggers.forEach((function(trigger){return trigger.activate()})),triggers=newTriggers}var willAnimate=function willAnimate(elem){var name=getComputedStyle(elem).getPropertyValue("animation-name");return name&&"none"!==name},waitForAnimation=function waitForAnimation(elem,cb){var listener=function listener(){elem.removeEventListener("animationend",listener),cb()};elem.addEventListener("animationend",listener)};function animate(elem,className){return elem.classList.add(className),new Promise((function(resolve){if(willAnimate(elem)){var rect=elem.getBoundingClientRect(),size="height: ".concat(rect.bottom-rect.top,"px; width: ").concat(rect.right-rect.left,"px");elem.setAttribute("style","position: absolute; ".concat(size)),waitForAnimation(elem,(function(){elem.classList.remove(className),elem.removeAttribute("style"),resolve()}))}else elem.classList.remove(className),resolve()}))}var MAX_REDIRECT_COUNT=256,routerGlobalOptionsVar;function isResultNotEmpty(result){return null!=result}function copyContextWithoutNext(context){var copy=Object.assign({},context);return delete copy.next,copy}function createLocation(_ref,route){var _ref$pathname=_ref.pathname,pathname=void 0===_ref$pathname?"":_ref$pathname,_ref$chain=_ref.chain,chain=void 0===_ref$chain?[]:_ref$chain,_ref$params=_ref.params,params=void 0===_ref$params?{}:_ref$params,redirectFrom=_ref.redirectFrom,resolver=_ref.resolver,routes=chain.map((function(item){return item.route}));return{baseUrl:resolver&&resolver.baseUrl||"",pathname:pathname,routes:routes,route:route||routes.length&&routes[routes.length-1]||null,params:params,redirectFrom:redirectFrom,getUrl:function getUrl(){var userParams=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return getPathnameForRouter(Router.pathToRegexp.compile(getMatchedPath(routes))(Object.assign({},params,userParams)),resolver)}}}function createRedirect(context,pathname){var params=Object.assign({},context.params);return{redirect:{pathname:pathname,from:context.pathname,params:params}}}function renderElement(context,element){element.location=createLocation(context);var index=context.chain.map((function(item){return item.route})).indexOf(context.route);context.chain[index].element=element;let outlet=context.resolver.__outlet;if(outlet.getRootNode().host){let parent=outlet.getRootNode().host;element.parent=parent;let state=parent.state;element.state=state}else{let parent=outlet.parentNode;element.parent=parent;let state=parent.state;element.state=state;let cb=parent.cb;element.cb=cb}return element}function runCallbackIfPossible(callback,args,thisArg){if(isFunction(callback))return callback.apply(thisArg,args)}function amend(amendmentFunction,args,element){return function(amendmentResult){return amendmentResult&&(amendmentResult.cancel||amendmentResult.redirect)?amendmentResult:element?runCallbackIfPossible(element[amendmentFunction],args,element):void 0}}function processNewChildren(newChildren,route){if(!Array.isArray(newChildren)&&!isObject(newChildren))throw new Error(log('Incorrect "children" value for the route '.concat(route.path,": expected array or object, but got ").concat(newChildren)));route.__children=[];for(var childRoutes=toArray(newChildren),i=0;i<childRoutes.length;i++)ensureRoute(childRoutes[i]),route.__children.push(childRoutes[i])}function removeDomNodes(nodes){if(nodes&&nodes.length)for(var parent=nodes[0].parentNode,i=0;i<nodes.length;i++)parent.removeChild(nodes[i])}function getPathnameForRouter(pathname,router){var base=router.__effectiveBaseUrl;return base?router.constructor.__createUrl(pathname.replace(/^\//,""),base).pathname:pathname}function getMatchedPath(chain){return chain.map((function(item){return item.path})).reduce((function(a,b){return b.length?a.replace(/\/$/,"")+"/"+b.replace(/^\//,""):a}),"")}function globalHashChangeHandler(event){let pathname;pathname=window.location.hash.replace("#",""),Router.go(router.baseUrl.replace(document.location.origin,"")+pathname)}const HASHCHANGE={activate(){window.addEventListener("hashchange",globalHashChangeHandler,!1)},inactivate(){window.removeEventListener("hashchange",globalHashChangeHandler,!1)}};var Router=function(_Resolver){function Router(outlet,options){var _this;window.frameElement&&"result"==window.frameElement.getAttribute("name")&&window.parent.postMessage({action:"routerOn"},event),routerGlobalOptionsVar=options,_classCallCheck(this,Router);var baseElement=document.head.querySelector("base");(_this=_possibleConstructorReturn(this,_getPrototypeOf(Router).call(this,[],Object.assign({baseUrl:baseElement&&baseElement.getAttribute("href")},options)))).resolveRoute=function(context){return _this.__resolveRoute(context)},routerGlobalOptionsVar.enableHash&&(Router.NavigationTrigger=[HASHCHANGE]);var triggers=Router.NavigationTrigger;return Router.setTriggers.apply(Router,Object.keys(triggers).map((function(key){return triggers[key]}))),_this.baseUrl,_this.ready,_this.ready=Promise.resolve(outlet),_this.location,_this.location=createLocation({resolver:_assertThisInitialized(_this)}),_this.__lastStartedRenderId=0,_this.__navigationEventHandler=_this.__onNavigationEvent.bind(_assertThisInitialized(_this)),_this.setOutlet(outlet),_this.subscribe(),_this}return _inherits(Router,_Resolver),_createClass(Router,[{key:"__resolveRoute",value:function __resolveRoute(context){var route=context.route,callbacks=Promise.resolve();isFunction(route.children)&&(callbacks=callbacks.then((function(){return route.children(copyContextWithoutNext(context))})).then((function(children){isResultNotEmpty(children)||isFunction(route.children)||(children=route.children),processNewChildren(children,route)})));var commands={redirect:function redirect(path){return createRedirect(context,path)},component:function component(_component){return document.createElement(_component)}};return callbacks.then((function(){return runCallbackIfPossible(route.action,[context,commands],route)})).then((function(result){return isResultNotEmpty(result)&&(result instanceof HTMLElement||result.redirect||result===notFoundResult)?result:isString(route.redirect)?commands.redirect(route.redirect):route.bundle?loadBundle(route.bundle).then((function(){}),(function(){throw new Error(log("Bundle not found: ".concat(route.bundle,". Check if the file name is correct")))})):void 0})).then((function(result){return isResultNotEmpty(result)?result:isString(route.component)?commands.component(route.component):void 0}))}},{key:"setOutlet",value:function setOutlet(outlet){outlet&&this.__ensureOutlet(outlet),this.__outlet=outlet}},{key:"getOutlet",value:function getOutlet(){return this.__outlet}},{key:"setRoutes",value:function setRoutes(routes){this.__urlForName=void 0,_get(_getPrototypeOf(Router.prototype),"setRoutes",this).call(this,routes),this.__onNavigationEvent()}},{key:"render",value:function render(pathnameOrContext,shouldUpdateHistory){var _this2=this,renderId=++this.__lastStartedRenderId,pathname=pathnameOrContext.pathname||pathnameOrContext,search=pathnameOrContext.search||"",hash=pathnameOrContext.hash||"";return this.ready=this.resolve({pathname:pathname,search:search,hash:hash}).then((function(context){return _this2.__fullyResolveChain(context)})).then((function(context){if(renderId===_this2.__lastStartedRenderId){var previousContext=_this2.__previousContext;if(context===previousContext)return _this2.location;_this2.location=createLocation(context),fireRouterEvent("location-changed",{router:_this2,location:_this2.location}),shouldUpdateHistory&&_this2.__updateBrowserHistory(context,context.redirectFrom),_this2.__addAppearingContent(context,previousContext);var animationDone=_this2.__animateIfNeeded(context);return _this2.__runOnAfterEnterCallbacks(context),_this2.__runOnAfterLeaveCallbacks(context,previousContext),animationDone.then((function(){if(renderId===_this2.__lastStartedRenderId)return _this2.__removeDisappearingContent(),_this2.__previousContext=context,_this2.location}))}})).catch((function(error){if(renderId===_this2.__lastStartedRenderId)throw shouldUpdateHistory&&_this2.__updateBrowserHistory({pathname:pathname,search:search,hash:hash}),removeDomNodes(_this2.__outlet&&_this2.__outlet.children),_this2.location=createLocation({pathname:pathname,resolver:_this2}),fireRouterEvent("error",{router:_this2,error:error,pathname:pathname}),error})),this.ready}},{key:"__fullyResolveChain",value:function __fullyResolveChain(topOfTheChainContextBeforeRedirects){var _this3=this,contextBeforeRedirects=arguments.length>1&&void 0!==arguments[1]?arguments[1]:topOfTheChainContextBeforeRedirects;return this.__findComponentContextAfterAllRedirects(contextBeforeRedirects).then((function(contextAfterRedirects){var redirectsHappened,topOfTheChainContextAfterRedirects=contextAfterRedirects!==contextBeforeRedirects?contextAfterRedirects:topOfTheChainContextBeforeRedirects;return contextAfterRedirects.next().then((function(nextChildContext){var matchedPath;if((null===nextChildContext||nextChildContext===notFoundResult)&&getPathnameForRouter(getMatchedPath(contextAfterRedirects.chain),contextAfterRedirects.resolver)!==contextAfterRedirects.pathname)throw getNotFoundError(topOfTheChainContextAfterRedirects);return nextChildContext&&nextChildContext!==notFoundResult?_this3.__fullyResolveChain(topOfTheChainContextAfterRedirects,nextChildContext):_this3.__amendWithOnBeforeCallbacks(contextAfterRedirects)}))}))}},{key:"__findComponentContextAfterAllRedirects",value:function __findComponentContextAfterAllRedirects(context){var _this4=this,result=context.result;return result instanceof HTMLElement?(renderElement(context,result),Promise.resolve(context)):result.redirect?this.__redirect(result.redirect,context.__redirectCount).then((function(context){return _this4.__findComponentContextAfterAllRedirects(context)})):result instanceof Error?Promise.reject(result):Promise.reject(new Error(log('Invalid route resolution result for path "'.concat(context.pathname,'". ')+'Expected redirect object or HTML element, but got: "'.concat(logValue(result),'". ')+"Double check the action return value for the route.")))}},{key:"__amendWithOnBeforeCallbacks",value:function __amendWithOnBeforeCallbacks(contextWithFullChain){var _this5=this;return this.__runOnBeforeCallbacks(contextWithFullChain).then((function(amendedContext){return amendedContext===_this5.__previousContext||amendedContext===contextWithFullChain?amendedContext:_this5.__fullyResolveChain(amendedContext)}))}},{key:"__runOnBeforeCallbacks",value:function __runOnBeforeCallbacks(newContext){var _this6=this,previousContext=this.__previousContext||{},previousChain=previousContext.chain||[],newChain=newContext.chain,callbacks=Promise.resolve(),beforeRoute;if(_this6.hooks&&(_this6.hooks.before&&!1===_this6.hooks.before(_this6,newContext,previousContext)))return callbacks.then((function(amendmentResult){return _this6.__previousContext}));var prevent=function prevent(){return{cancel:!0}},redirect=function redirect(pathname){return createRedirect(newContext,pathname)};if(newContext.__divergedChainIndex=0,previousChain.length){for(var i=0;i<Math.min(previousChain.length,newChain.length)&&(previousChain[i].route===newChain[i].route&&previousChain[i].path===newChain[i].path&&(previousChain[i].element&&previousChain[i].element.localName)===(newChain[i].element&&newChain[i].element.localName));i=++newContext.__divergedChainIndex);for(var _i=previousChain.length-1;_i>=newContext.__divergedChainIndex;_i--){var location=createLocation(newContext);callbacks=callbacks.then(amend("onBeforeLeave",[location,{prevent:prevent},this],previousChain[_i].element)).then((function(result){if(!(result||{}).redirect)return result}))}}for(var _i2=newContext.__divergedChainIndex;_i2<newChain.length;_i2++){var _location=createLocation(newContext,newChain[_i2].route);callbacks=callbacks.then(amend("onBeforeEnter",[_location,{prevent:prevent,redirect:redirect},this],newChain[_i2].element))}return callbacks.then((function(amendmentResult){if(amendmentResult){if(amendmentResult.cancel)return _this6.__previousContext;if(amendmentResult.redirect)return _this6.__redirect(amendmentResult.redirect,newContext.__redirectCount)}return newContext}))}},{key:"__redirect",value:function __redirect(redirectData,counter){if(counter>256)throw new Error(log("Too many redirects when rendering ".concat(redirectData.from)));return this.resolve({pathname:this.urlForPath(redirectData.pathname,redirectData.params),redirectFrom:redirectData.from,__redirectCount:(counter||0)+1})}},{key:"__ensureOutlet",value:function __ensureOutlet(){var outlet=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.__outlet;if(!(outlet instanceof Node))throw new TypeError(log("Expected router outlet to be a valid DOM Node (but got ".concat(outlet,")")))}},{key:"__updateBrowserHistory",value:function __updateBrowserHistory(_ref2,replace){if(void 0!==routerGlobalOptionsVar.enableHash){var path=_ref2.pathname;""==(path=path.replace(router.baseUrl.replace(document.location.origin,""),""))&&""==window.location.hash||("#"+path!==window.location.hash?window.location.hash.length>1?window.dispatchEvent(new HashChangeEvent("hashchange")):window.history.replaceState({},"",_ref2.pathname.replace(path,"")+"#"+path):window.location.hash)}else{var pathname=_ref2.pathname,_ref2$search=_ref2.search,search=void 0===_ref2$search?"":_ref2$search,_ref2$hash=_ref2.hash,hash=void 0===_ref2$hash?"":_ref2$hash;if(window.location.pathname!==pathname||window.location.search!==search||window.location.hash!==hash){var changeState=replace?"replaceState":"pushState";window.frameElement&&void 0!==window.frameElement.hasAttribute("name")&&"result"==window.frameElement.getAttribute("name")&&(changeState="replaceState"),window.history[changeState](null,document.title,pathname+search+hash),window.dispatchEvent(new PopStateEvent("popstate",{state:"router-ignore"}))}}}},{key:"__addAppearingContent",value:function __addAppearingContent(context,previousContext){this.__ensureOutlet(),this.__removeAppearingContent();for(var deepestCommonParent=this.__outlet,i=0;i<context.__divergedChainIndex;i++){var unchangedElement=previousContext&&previousContext.chain[i].element;if(unchangedElement){if(unchangedElement.parentNode!==deepestCommonParent)break;context.chain[i].element=unchangedElement,deepestCommonParent=unchangedElement}}this.__disappearingContent=Array.from(deepestCommonParent.children),this.__appearingContent=[];for(var parentElement=deepestCommonParent,_i3=context.__divergedChainIndex;_i3<context.chain.length;_i3++){var elementToAdd=context.chain[_i3].element;elementToAdd&&(parentElement.appendChild(elementToAdd),parentElement===deepestCommonParent&&this.__appearingContent.push(elementToAdd),parentElement=elementToAdd)}}},{key:"__removeDisappearingContent",value:function __removeDisappearingContent(){this.__disappearingContent&&removeDomNodes(this.__disappearingContent),this.__disappearingContent=null,this.__appearingContent=null}},{key:"__removeAppearingContent",value:function __removeAppearingContent(){this.__disappearingContent&&this.__appearingContent&&(removeDomNodes(this.__appearingContent),this.__disappearingContent=null,this.__appearingContent=null)}},{key:"__runOnAfterLeaveCallbacks",value:function __runOnAfterLeaveCallbacks(currentContext,targetContext){if(targetContext)for(var i=targetContext.chain.length-1;i>=currentContext.__divergedChainIndex;i--){var currentComponent=targetContext.chain[i].element;if(currentComponent)try{var location=createLocation(currentContext);runCallbackIfPossible(currentComponent.onAfterLeave,[location,{},targetContext.resolver],currentComponent)}finally{removeDomNodes(currentComponent.children)}}}},{key:"__runOnAfterEnterCallbacks",value:function __runOnAfterEnterCallbacks(currentContext){if(this.hooks&&this.hooks.after)var afterRoute=this.hooks.after(this);for(var i=currentContext.__divergedChainIndex;i<currentContext.chain.length;i++){var currentComponent=currentContext.chain[i].element||{},location=createLocation(currentContext,currentContext.chain[i].route);runCallbackIfPossible(currentComponent.onAfterEnter,[location,{},currentContext.resolver],currentComponent)}}},{key:"__animateIfNeeded",value:function __animateIfNeeded(context){for(var from=(this.__disappearingContent||[])[0],to=(this.__appearingContent||[])[0],promises=[],chain=context.chain,config,i=chain.length;i>0;i--)if(chain[i-1].route.animate){config=chain[i-1].route.animate;break}if(from&&to&&config){var leave=isObject(config)&&config.leave||"leaving",enter=isObject(config)&&config.enter||"entering";promises.push(animate(from,leave)),promises.push(animate(to,enter))}return Promise.all(promises).then((function(){return context}))}},{key:"subscribe",value:function subscribe(){window.addEventListener("router-go",this.__navigationEventHandler)}},{key:"unsubscribe",value:function unsubscribe(){window.removeEventListener("router-go",this.__navigationEventHandler)}},{key:"__onNavigationEvent",value:function __onNavigationEvent(event){var pathname=event?event.detail.pathname:window.location.pathname;isString(this.__normalizePathname(pathname))&&(event&&event.preventDefault&&event.preventDefault(),this.render(event?event.detail:{pathname:pathname},!0))}},{key:"urlForName",value:function urlForName(name,params){return this.__urlForName||(this.__urlForName=generateUrls(this)),getPathnameForRouter(this.__urlForName(name,params),this)}},{key:"urlForPath",value:function urlForPath(path,params){return getPathnameForRouter(Router.pathToRegexp.compile(path)(params),this)}}],[{key:"setTriggers",value:function setTriggers(){for(var _len=arguments.length,triggers=new Array(_len),_key=0;_key<_len;_key++)triggers[_key]=arguments[_key];setNavigationTriggers(triggers)}},{key:"go",value:function go(pathname){return fireRouterEvent("go",{pathname:pathname})}}]),Router}(Resolver),isUrlAvailable,urlDocument,urlBase,urlAnchor;Router.NavigationTrigger={POPSTATE:POPSTATE,CLICK:CLICK},Resolver.__ensureUrlAvailableOrPolyfilled=function(){if(void 0===isUrlAvailable){try{var url=new URL("b","http://a");url.pathname="c",isUrlAvailable="http://a/c"===url.href}catch(e){isUrlAvailable=!1}isUrlAvailable||(urlDocument=document.implementation.createHTMLDocument("url"),urlBase=urlDocument.createElement("base"),urlDocument.head.appendChild(urlBase),(urlAnchor=urlDocument.createElement("a")).origin||(Object.defineProperty(urlAnchor,"origin",{get:function get(){var protocol=urlAnchor.protocol,port=urlAnchor.port,defaultHttp,defaultHttps,host="http:"===protocol&&"80"===port||"https:"===protocol&&"443"===port?urlAnchor.hostname:urlAnchor.host;return"".concat(protocol,"//").concat(host)}}),Object.defineProperty(urlAnchor,"pathname",{get:function get(){return urlAnchor.href.slice(urlAnchor.origin.length)}})))}},Resolver.__createUrl=function(path,base){return Resolver.__ensureUrlAvailableOrPolyfilled(),isUrlAvailable?new URL(path,base):(urlBase.href=base,urlAnchor.href=path.replace(/ /g,"%20"),urlAnchor.href=urlAnchor.href,urlAnchor)},simply.Resolver=Resolver,simply.Router=Router}()},morphdom:function(){!function(){"use strict";var DOCUMENT_FRAGMENT_NODE=11,range;function morphAttrs(fromNode,toNode){window.customElements.get(fromNode.tagName.toLowerCase());var toNodeAttrs=toNode.attributes,attr,attrName,attrNamespaceURI,attrValue,fromValue;if(11!==toNode.nodeType&&11!==fromNode.nodeType){for(var i=toNodeAttrs.length-1;i>=0;i--)attrName=(attr=toNodeAttrs[i]).name,attrNamespaceURI=attr.namespaceURI,attrValue=attr.value,attrNamespaceURI?(attrName=attr.localName||attrName,(fromValue=fromNode.getAttributeNS(attrNamespaceURI,attrName))!==attrValue&&("xmlns"===attr.prefix&&(attrName=attr.name),fromNode.setAttributeNS(attrNamespaceURI,attrName,attrValue))):(fromValue=fromNode.getAttribute(attrName))!==attrValue&&fromNode.setAttribute(attrName,attrValue);for(var fromNodeAttrs=fromNode.attributes,d=fromNodeAttrs.length-1;d>=0;d--)attrName=(attr=fromNodeAttrs[d]).name,(attrNamespaceURI=attr.namespaceURI)?(attrName=attr.localName||attrName,toNode.hasAttributeNS(attrNamespaceURI,attrName)||fromNode.removeAttributeNS(attrNamespaceURI,attrName)):toNode.hasAttribute(attrName)||fromNode.removeAttribute(attrName)}}var NS_XHTML="http://www.w3.org/1999/xhtml",doc="undefined"==typeof document?void 0:document,HAS_TEMPLATE_SUPPORT=!!doc&&"content"in doc.createElement("template"),HAS_RANGE_SUPPORT=!!doc&&doc.createRange&&"createContextualFragment"in doc.createRange();function createFragmentFromTemplate(str){var template=doc.createElement("template");return template.innerHTML=str,template.content.childNodes[0]}function createFragmentFromRange(str){var fragment;return range||(range=doc.createRange()).selectNode(doc.body),range.createContextualFragment(str).childNodes[0]}function createFragmentFromWrap(str){var fragment=doc.createElement("body");return fragment.innerHTML=str,fragment.childNodes[0]}function toElement(str){return str=str.trim(),HAS_TEMPLATE_SUPPORT?createFragmentFromTemplate(str):HAS_RANGE_SUPPORT?createFragmentFromRange(str):createFragmentFromWrap(str)}function compareNodeNames(fromEl,toEl){var fromNodeName=fromEl.nodeName,toNodeName=toEl.nodeName,fromCodeStart,toCodeStart;return fromNodeName===toNodeName||(fromCodeStart=fromNodeName.charCodeAt(0),toCodeStart=toNodeName.charCodeAt(0),fromCodeStart<=90&&toCodeStart>=97?fromNodeName===toNodeName.toUpperCase():toCodeStart<=90&&fromCodeStart>=97&&toNodeName===fromNodeName.toUpperCase())}function createElementNS(name,namespaceURI){return namespaceURI&&namespaceURI!==NS_XHTML?doc.createElementNS(namespaceURI,name):doc.createElement(name)}function moveChildren(fromEl,toEl){for(var curChild=fromEl.firstChild;curChild;){var nextChild=curChild.nextSibling;toEl.appendChild(curChild),curChild=nextChild}return toEl}function syncBooleanAttrProp(fromEl,toEl,name){fromEl[name]!==toEl[name]&&(fromEl[name]=toEl[name],fromEl[name]?fromEl.setAttribute(name,""):fromEl.removeAttribute(name))}var specialElHandlers={OPTION:function(fromEl,toEl){var parentNode=fromEl.parentNode;if(parentNode){var parentName=parentNode.nodeName.toUpperCase();"OPTGROUP"===parentName&&(parentName=(parentNode=parentNode.parentNode)&&parentNode.nodeName.toUpperCase()),"SELECT"!==parentName||parentNode.hasAttribute("multiple")||(fromEl.hasAttribute("selected")&&!toEl.selected&&(fromEl.setAttribute("selected","selected"),fromEl.removeAttribute("selected")),parentNode.selectedIndex=-1)}syncBooleanAttrProp(fromEl,toEl,"selected")},INPUT:function(fromEl,toEl){syncBooleanAttrProp(fromEl,toEl,"checked"),syncBooleanAttrProp(fromEl,toEl,"disabled"),fromEl.value!==toEl.value&&(fromEl.value=toEl.value),toEl.hasAttribute("value")||fromEl.removeAttribute("value")},TEXTAREA:function(fromEl,toEl){var newValue=toEl.value;fromEl.value!==newValue&&(fromEl.value=newValue);var firstChild=fromEl.firstChild;if(firstChild){var oldValue=firstChild.nodeValue;if(oldValue==newValue||!newValue&&oldValue==fromEl.placeholder)return;firstChild.nodeValue=newValue}},SELECT:function(fromEl,toEl){if(!toEl.hasAttribute("multiple")){for(var selectedIndex=-1,i=0,curChild=fromEl.firstChild,optgroup,nodeName;curChild;)if("OPTGROUP"===(nodeName=curChild.nodeName&&curChild.nodeName.toUpperCase()))curChild=(optgroup=curChild).firstChild;else{if("OPTION"===nodeName){if(curChild.hasAttribute("selected")){selectedIndex=i;break}i++}!(curChild=curChild.nextSibling)&&optgroup&&(curChild=optgroup.nextSibling,optgroup=null)}fromEl.selectedIndex=selectedIndex}}},ELEMENT_NODE=1,DOCUMENT_FRAGMENT_NODE$1=11,TEXT_NODE=3,COMMENT_NODE=8;function noop(){}function defaultGetNodeKey(node){if(node)return node.getAttribute&&node.getAttribute("id")||node.id}function morphdomFactory(morphAttrs){return function morphdom(fromNode,toNode,options){if(options||(options={}),"string"==typeof toNode)if("#document"===fromNode.nodeName||"HTML"===fromNode.nodeName||"BODY"===fromNode.nodeName){var toNodeHtml=toNode;(toNode=doc.createElement("html")).innerHTML=toNodeHtml}else toNode=toElement(toNode);else 11===toNode.nodeType&&(toNode=toNode.firstElementChild);var getNodeKey=options.getNodeKey||defaultGetNodeKey,onBeforeNodeAdded=options.onBeforeNodeAdded||noop,onNodeAdded=options.onNodeAdded||noop,onBeforeElUpdated=options.onBeforeElUpdated||noop,onElUpdated=options.onElUpdated||noop,onBeforeNodeDiscarded=options.onBeforeNodeDiscarded||noop,onNodeDiscarded=options.onNodeDiscarded||noop,onBeforeElChildrenUpdated=options.onBeforeElChildrenUpdated||noop,skipFromChildren=options.skipFromChildren||noop,addChild=options.addChild||function(parent,child){return parent.appendChild(child)},childrenOnly=!0===options.childrenOnly,fromNodesLookup=Object.create(null),keyedRemovalList=[];function addKeyedRemoval(key){keyedRemovalList.push(key)}function walkDiscardedChildNodes(node,skipKeyedNodes){if(1===node.nodeType)for(var curChild=node.firstChild;curChild;){var key=void 0;skipKeyedNodes&&(key=getNodeKey(curChild))?addKeyedRemoval(key):(onNodeDiscarded(curChild),curChild.firstChild&&walkDiscardedChildNodes(curChild,skipKeyedNodes)),curChild=curChild.nextSibling}}function removeNode(node,parentNode,skipKeyedNodes){!1!==onBeforeNodeDiscarded(node)&&(parentNode&&parentNode.removeChild(node),onNodeDiscarded(node),walkDiscardedChildNodes(node,skipKeyedNodes))}function indexTree(node){if(1===node.nodeType||11===node.nodeType)for(var curChild=node.firstChild;curChild;){var key=getNodeKey(curChild);key&&(fromNodesLookup[key]=curChild),indexTree(curChild),curChild=curChild.nextSibling}}function handleNodeAdded(el){onNodeAdded(el);for(var curChild=el.firstChild;curChild;){var nextSibling=curChild.nextSibling,key=getNodeKey(curChild);if(key){var unmatchedFromEl=fromNodesLookup[key];unmatchedFromEl&&compareNodeNames(curChild,unmatchedFromEl)?(curChild.parentNode.replaceChild(unmatchedFromEl,curChild),morphEl(unmatchedFromEl,curChild)):handleNodeAdded(curChild)}else handleNodeAdded(curChild);curChild=nextSibling}}function cleanupFromEl(fromEl,curFromNodeChild,curFromNodeKey){for(;curFromNodeChild;){var fromNextSibling=curFromNodeChild.nextSibling;(curFromNodeKey=getNodeKey(curFromNodeChild))?addKeyedRemoval(curFromNodeKey):removeNode(curFromNodeChild,fromEl,!0),curFromNodeChild=fromNextSibling}}function morphEl(fromEl,toEl,childrenOnly){var toElKey=getNodeKey(toEl);if(toElKey&&delete fromNodesLookup[toElKey],!childrenOnly){if(!1===onBeforeElUpdated(fromEl,toEl))return;if(morphAttrs(fromEl,toEl),onElUpdated(fromEl),!1===onBeforeElChildrenUpdated(fromEl,toEl))return}"TEXTAREA"!==fromEl.nodeName?morphChildren(fromEl,toEl):specialElHandlers.TEXTAREA(fromEl,toEl)}function morphChildren(fromEl,toEl){var skipFrom=skipFromChildren(fromEl,toEl),curToNodeChild=toEl.firstChild,curFromNodeChild=fromEl.firstChild,curToNodeKey,curFromNodeKey,fromNextSibling,toNextSibling,matchingFromEl;outer:for(;curToNodeChild;){for(toNextSibling=curToNodeChild.nextSibling,curToNodeKey=getNodeKey(curToNodeChild);!skipFrom&&curFromNodeChild;){if(fromNextSibling=curFromNodeChild.nextSibling,curToNodeChild.isSameNode&&curToNodeChild.isSameNode(curFromNodeChild)){curToNodeChild=toNextSibling,curFromNodeChild=fromNextSibling;continue outer}curFromNodeKey=getNodeKey(curFromNodeChild);var curFromNodeType=curFromNodeChild.nodeType,isCompatible=void 0;if(curFromNodeType===curToNodeChild.nodeType&&(1===curFromNodeType?(curToNodeKey?curToNodeKey!==curFromNodeKey&&((matchingFromEl=fromNodesLookup[curToNodeKey])?fromNextSibling===matchingFromEl?isCompatible=!1:(fromEl.insertBefore(matchingFromEl,curFromNodeChild),curFromNodeKey?addKeyedRemoval(curFromNodeKey):removeNode(curFromNodeChild,fromEl,!0),curFromNodeKey=getNodeKey(curFromNodeChild=matchingFromEl)):isCompatible=!1):curFromNodeKey&&(isCompatible=!1),(isCompatible=!1!==isCompatible&&compareNodeNames(curFromNodeChild,curToNodeChild))&&morphEl(curFromNodeChild,curToNodeChild)):3!==curFromNodeType&&8!=curFromNodeType||(isCompatible=!0,curFromNodeChild.nodeValue!==curToNodeChild.nodeValue&&(curFromNodeChild.nodeValue=curToNodeChild.nodeValue))),isCompatible){curToNodeChild=toNextSibling,curFromNodeChild=fromNextSibling;continue outer}curFromNodeKey?addKeyedRemoval(curFromNodeKey):removeNode(curFromNodeChild,fromEl,!0),curFromNodeChild=fromNextSibling}if(curToNodeKey&&(matchingFromEl=fromNodesLookup[curToNodeKey])&&compareNodeNames(matchingFromEl,curToNodeChild))skipFrom||addChild(fromEl,matchingFromEl),morphEl(matchingFromEl,curToNodeChild);else{var onBeforeNodeAddedResult=onBeforeNodeAdded(curToNodeChild);!1!==onBeforeNodeAddedResult&&(onBeforeNodeAddedResult&&(curToNodeChild=onBeforeNodeAddedResult),curToNodeChild.actualize&&(curToNodeChild=curToNodeChild.actualize(fromEl.ownerDocument||doc)),addChild(fromEl,curToNodeChild),handleNodeAdded(curToNodeChild))}curToNodeChild=toNextSibling,curFromNodeChild=fromNextSibling}cleanupFromEl(fromEl,curFromNodeChild,curFromNodeKey);var specialElHandler=specialElHandlers[fromEl.nodeName];specialElHandler&&specialElHandler(fromEl,toEl)}indexTree(fromNode);var morphedNode=fromNode,morphedNodeType=morphedNode.nodeType,toNodeType=toNode.nodeType;if(!childrenOnly)if(1===morphedNodeType)1===toNodeType?compareNodeNames(fromNode,toNode)||(onNodeDiscarded(fromNode),morphedNode=moveChildren(fromNode,createElementNS(toNode.nodeName,toNode.namespaceURI))):morphedNode=toNode;else if(3===morphedNodeType||8===morphedNodeType){if(toNodeType===morphedNodeType)return morphedNode.nodeValue!==toNode.nodeValue&&(morphedNode.nodeValue=toNode.nodeValue),morphedNode;morphedNode=toNode}if(morphedNode===toNode)onNodeDiscarded(fromNode);else{if(toNode.isSameNode&&toNode.isSameNode(morphedNode))return;if(morphEl(morphedNode,toNode,childrenOnly),keyedRemovalList)for(var i=0,len=keyedRemovalList.length;i<len;i++){var elToRemove=fromNodesLookup[keyedRemovalList[i]];elToRemove&&removeNode(elToRemove,elToRemove.parentNode,!1)}}return!childrenOnly&&morphedNode!==fromNode&&fromNode.parentNode&&(morphedNode.actualize&&(morphedNode=morphedNode.actualize(fromNode.ownerDocument||doc)),fromNode.parentNode.replaceChild(morphedNode,fromNode)),morphedNode}}var morphdom=morphdomFactory(morphAttrs);simply.morphdom=morphdom}()},setupInlineComps:function(dom,docStr,tmpl){simply.gets=simply.gets?simply.gets:[];let simplyTemplates=dom.querySelectorAll("template[simply]");simplyTemplates&&simplyTemplates.forEach(element=>{let string,comp,tag=element.parentElement.tagName.toLowerCase(),regexstr,regex=new RegExp("get(.*"+tag+".*)","i");var allGets=/^\s*get\(.*\)/gm;let tempContent,check;for(docStr?(tempContent=docStr,string=docStr):"result"==window.name?(tempContent=window.frameElement.contentWindow.dataContent,string=tempContent):tempContent=dom.querySelector("body").innerHTML;null!==(m=allGets.exec(tempContent));)simply.gets.push(m[0]);if(0==simply.gets.filter(e=>e.includes(tag)).length&&!customElements.get(tag.toLowerCase())){if(!string){var request=new XMLHttpRequest;console.log(window.document.location.href),request.open("GET",window.document.location.href,!1),request.onload=function(){this.status>=200&&this.status<400&&(string=this.responseText)},request.send()}let inlineComp=simply.getBetweenTag({string:string,tag:tag}),parsed=simply.splitComponent(inlineComp);simply.registerComponent({name:tag,template:parsed.template,styles:parsed.styles,script:parsed.script,docStr:string,noFile:!0})}})},findShadowRootOrCustomElement:function(element){let parent=element.parentNode;for(;null!==parent;){if(parent instanceof ShadowRoot)return parent.host;if(!parent.tagName)return;if(parent.tagName.includes("-")&&void 0!==customElements.get(parent.tagName.toLowerCase()))return parent;parent=parent.parentNode}return null},init:function(){this.Router(),this.morphdom(),window.get=this.get,document.onreadystatechange=function(){"complete"==document.readyState&&simply.setupInlineComps(document)}}},simply.init();
//# sourceMappingURL=simply.min.js.map