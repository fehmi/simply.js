<html>
<rectangle color="{{state.color}}">{{state.color}}</rectangle>
<h1>Grand Grand Father</h1>
<p>Nameeeeeeeeeeeeeeeeeeeee: {{data.name}}</p>
<if cond="1 == 1">
  <div>Condition is true!</div>
</if>

<each
  of="data.arrays"
  as="itemo"
  key="keydur"
>
  <div>Array item: {{itemo}} - {{keydur}}</div>
</each>

<each
  of="data.birseyler"
  as="item"
  key="kkk"
  index="indeks"
>
  <div style="color: {{item.renk}}">{{item.name}} - {{indeks}} - {{kkk}}</div>
</each>

<each
  of="data.anotherList"
  as="item"
  key="kkk"
  index="indeks"
>
  <div>{{kkk}} - {{item.age}} - {{indeks}}</div>
</each>
<a onclick="data.name = 'Gregorian the Grand Grand Father'">Change Name</a>
<hr>
<grand-father .some="{{ {"ehehe": data.name} }}" isolated>
    nnnnnn {{data.name}}
</grand-father>
<div class="button">
  <a>hoy</a>
</div>

</html>

<style>

  rectangle {
    position: absolute;
    background: black;
    width: 100px;
    height: 100px;
    transform: rotate(var(state.deg)deg);
    transition: all 2250ms ease;
    color: white;
  }

  rectangle:hover {
    background: green;
  }

  a {
    background-color: blueviolet;
    transition: all 250ms ease;
  }

  a:hover {
    background-color: aqua;
  }

  body {
    background-color: var(state.color);
  }

  b {
    color: red;
    width: var(data.asd==1 && (data.asd==1 || data.asd==2) ? "100px" : "200px");
    height: var(data.height);
  }

  &cond:[if="data.number && data.number == 11"] {
    number {
      display: block;
    }
  }
  &cond:[else] {
    number {
      display: none;
    }
  }

  a,
  b {
    color: red;
    width: 100%;
  }

  a {
    color: red;


    &cond:[if="data.asd && data.asd == 10"] {
      &cond:[if="data.asd && data.asd == 10"] {
        hamdi {
          color: aliceblue;

          &:hover {
            &cond:[if="1 == 2"] {
              color: beige;
              color: hwb(from color h w b);
            }

            &cond:[elsif="1 == 3"] {
              &cond:[if="data.asd && data.asd == 10"] {
                color: bisque;
                color: rgb(from color r g b);
              }
            }

            &cond:[else] {
              &cond:[if="data.asd && data.asd == 11"] {
                color: aqua;

                &cond:[if="1 == 1"] {
                  color: coral;
                  color: aquamarine;
                }
              }
            }

            color: red;
          }
        }
      }
    }
  }

  button {
    display: flex;
  }

  button {
    display: flex;
  }
</style>

<script>
  class simply {



    state = {
      alien: "ehehe",
      color: "cyan"
    }

    data = {
      color: "cyan",
      top: 20,
      width: "20px",
      asd: 10,
      number: 11,
      name: "Maximus the Grand Grand Father",
      arrays: [1, 2, 3, 4],
      birseyler: [
        { name: "birsey 1", renk: "red" },
        { name: "birsey 2", renk: "blue" },
        { name: "birsey 3", renk: "green" }
      ],
      anotherList: {
        asd: {
          "age": 32,
        },
        msd: {
          "age": 45,
        },
        hll: {
          "age": 43
        }
      }
    }

    methods = {
startRandomStageDeg(state, interval = 1000) {
  function update() {
    state.deg = Math.random() * 360;
  }

  update(); // ilk deƒüer
  return setInterval(update, interval);
},
startColorCycle(state, speed = 0.5) {
  let hue = 0;

  function loop() {
    hue = (hue + speed) % 360;
    state.color = `hsl(${hue}, 100%, 50%)`;
    requestAnimationFrame(loop);
  }

  loop();
}
    }
    lifecycle = {

      afterFirstRender() {
        // var css = dom.querySelector(":scope > style[simply]").innerText;

(function startManualRotationTest() {
    // Temizlik
    const old = document.getElementById('debug-spinner');
    if (old) old.remove();

    // 1. SPINNER OLU≈ûTUR (CSS Animasyonu YOK)
    const spinner = document.createElement('div');
    spinner.id = 'debug-spinner';
    spinner.style.cssText = `
        position: fixed; top: 20px; right: 20px; width: 60px; height: 60px;
        border: 8px solid #333; /* Koyu Gri Zemin */
        border-top: 8px solid #00ff55; /* Renkli Ba≈ülƒ±k */
        border-radius: 50%;
        /* animation: YOK - JS ile d√∂nd√ºreceƒüiz */
        z-index: 999999; 
        box-shadow: 0 0 10px rgba(0,0,0,0.5);
        transition: border-color 0.1s; /* Renk ge√ßi≈üi yumu≈üak olsun */
    `;
    document.body.appendChild(spinner);

    console.log("%cüî• MANUEL ROTASYON TESTƒ∞ üî•", "font-size: 20px; color: orange;");

    // 2. LAG DEDEKT√ñR√ú + ROTASYON MOTORU
    let lastTime = performance.now();
    let angle = 0; // Ba≈ülangƒ±√ß a√ßƒ±sƒ±
    let freezeCount = 0;

    function loop() {
        const now = performance.now();
        const delta = now - lastTime;
        
        // --- MANUEL D√ñND√úRME ---
        // Her karede a√ßƒ±yƒ± 10 derece artƒ±rƒ±yoruz.
        // Eƒüer UI kilitlenirse bu kod √ßalƒ±≈üamayacaƒüƒ± i√ßin D√ñNME DURACAK.
        angle = (angle + 15) % 360;
        spinner.style.transform = `rotate(${angle}deg)`;

        // --- LAG KONTROL√ú ---
        // 30ms (yakla≈üƒ±k 30 FPS altƒ±) gecikme varsa uyar
        if (delta > 60) {
            freezeCount++;
            spinner.style.borderTopColor = "red"; // Kasƒ±yorsa Kƒ±rmƒ±zƒ±
            
            // Konsolu √ßok kirletmemek i√ßin sadece ciddi takƒ±lmalarƒ± yaz
            if (delta > 60) {
                console.warn(`‚ö†Ô∏è TAKILMA: ${delta.toFixed(0)}ms (Toplam: ${freezeCount})`);
            }
        } else {
            spinner.style.borderTopColor = "#00ff55"; // Akƒ±cƒ±ysa Ye≈üil
        }

        lastTime = now;
        requestAnimationFrame(loop);
    }
    loop();



})();  

        methods.startRandomStageDeg(state, 2000);
        methods.startColorCycle(state, .5);

      }
    }
  }
</script>