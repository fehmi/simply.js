(()=>{var e={1102:()=>{var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(){if("undefined"!=typeof window){var n=Array.prototype.slice,o=Element.prototype.matches||Element.prototype.msMatchesSelector,r=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","details","summary","iframe","object","embed","[contenteditable]"].join(","),i=function(){function i(e,n){t(this,i),this._inertManager=n,this._rootElement=e,this._managedNodes=new Set,this._rootElement.hasAttribute("aria-hidden")?this._savedAriaHidden=this._rootElement.getAttribute("aria-hidden"):this._savedAriaHidden=null,this._rootElement.setAttribute("aria-hidden","true"),this._makeSubtreeUnfocusable(this._rootElement),this._observer=new MutationObserver(this._onMutation.bind(this)),this._observer.observe(this._rootElement,{attributes:!0,childList:!0,subtree:!0})}return e(i,[{key:"destructor",value:function(){this._observer.disconnect(),this._rootElement&&(null!==this._savedAriaHidden?this._rootElement.setAttribute("aria-hidden",this._savedAriaHidden):this._rootElement.removeAttribute("aria-hidden")),this._managedNodes.forEach((function(e){this._unmanageNode(e.node)}),this),this._observer=null,this._rootElement=null,this._managedNodes=null,this._inertManager=null}},{key:"_makeSubtreeUnfocusable",value:function(e){var t=this;l(e,(function(e){return t._visitNode(e)}));var n=document.activeElement;if(!document.body.contains(e)){for(var o=e,r=void 0;o;){if(o.nodeType===Node.DOCUMENT_FRAGMENT_NODE){r=o;break}o=o.parentNode}r&&(n=r.activeElement)}e.contains(n)&&(n.blur(),n===document.activeElement&&document.body.focus())}},{key:"_visitNode",value:function(e){if(e.nodeType===Node.ELEMENT_NODE){var t=e;t!==this._rootElement&&t.hasAttribute("inert")&&this._adoptInertRoot(t),(o.call(t,r)||t.hasAttribute("tabindex"))&&this._manageNode(t)}}},{key:"_manageNode",value:function(e){var t=this._inertManager.register(e,this);this._managedNodes.add(t)}},{key:"_unmanageNode",value:function(e){var t=this._inertManager.deregister(e,this);t&&this._managedNodes.delete(t)}},{key:"_unmanageSubtree",value:function(e){var t=this;l(e,(function(e){return t._unmanageNode(e)}))}},{key:"_adoptInertRoot",value:function(e){var t=this._inertManager.getInertRoot(e);t||(this._inertManager.setInert(e,!0),t=this._inertManager.getInertRoot(e)),t.managedNodes.forEach((function(e){this._manageNode(e.node)}),this)}},{key:"_onMutation",value:function(e,t){e.forEach((function(e){var t=e.target;if("childList"===e.type)n.call(e.addedNodes).forEach((function(e){this._makeSubtreeUnfocusable(e)}),this),n.call(e.removedNodes).forEach((function(e){this._unmanageSubtree(e)}),this);else if("attributes"===e.type)if("tabindex"===e.attributeName)this._manageNode(t);else if(t!==this._rootElement&&"inert"===e.attributeName&&t.hasAttribute("inert")){this._adoptInertRoot(t);var o=this._inertManager.getInertRoot(t);this._managedNodes.forEach((function(e){t.contains(e.node)&&o._manageNode(e.node)}))}}),this)}},{key:"managedNodes",get:function(){return new Set(this._managedNodes)}},{key:"hasSavedAriaHidden",get:function(){return null!==this._savedAriaHidden}},{key:"savedAriaHidden",set:function(e){this._savedAriaHidden=e},get:function(){return this._savedAriaHidden}}]),i}(),s=function(){function n(e,o){t(this,n),this._node=e,this._overrodeFocusMethod=!1,this._inertRoots=new Set([o]),this._savedTabIndex=null,this._destroyed=!1,this.ensureUntabbable()}return e(n,[{key:"destructor",value:function(){if(this._throwIfDestroyed(),this._node&&this._node.nodeType===Node.ELEMENT_NODE){var e=this._node;null!==this._savedTabIndex?e.setAttribute("tabindex",this._savedTabIndex):e.removeAttribute("tabindex"),this._overrodeFocusMethod&&delete e.focus}this._node=null,this._inertRoots=null,this._destroyed=!0}},{key:"_throwIfDestroyed",value:function(){if(this.destroyed)throw new Error("Trying to access destroyed InertNode")}},{key:"ensureUntabbable",value:function(){if(this.node.nodeType===Node.ELEMENT_NODE){var e=this.node;if(o.call(e,r)){if(-1===e.tabIndex&&this.hasSavedTabIndex)return;e.hasAttribute("tabindex")&&(this._savedTabIndex=e.tabIndex),e.setAttribute("tabindex","-1"),e.nodeType===Node.ELEMENT_NODE&&(e.focus=function(){},this._overrodeFocusMethod=!0)}else e.hasAttribute("tabindex")&&(this._savedTabIndex=e.tabIndex,e.removeAttribute("tabindex"))}}},{key:"addInertRoot",value:function(e){this._throwIfDestroyed(),this._inertRoots.add(e)}},{key:"removeInertRoot",value:function(e){this._throwIfDestroyed(),this._inertRoots.delete(e),0===this._inertRoots.size&&this.destructor()}},{key:"destroyed",get:function(){return this._destroyed}},{key:"hasSavedTabIndex",get:function(){return null!==this._savedTabIndex}},{key:"node",get:function(){return this._throwIfDestroyed(),this._node}},{key:"savedTabIndex",set:function(e){this._throwIfDestroyed(),this._savedTabIndex=e},get:function(){return this._throwIfDestroyed(),this._savedTabIndex}}]),n}(),a=function(){function r(e){if(t(this,r),!e)throw new Error("Missing required argument; InertManager needs to wrap a document.");this._document=e,this._managedNodes=new Map,this._inertRoots=new Map,this._observer=new MutationObserver(this._watchForInert.bind(this)),c(e.head||e.body||e.documentElement),"loading"===e.readyState?e.addEventListener("DOMContentLoaded",this._onDocumentLoaded.bind(this)):this._onDocumentLoaded()}return e(r,[{key:"setInert",value:function(e,t){if(t){if(this._inertRoots.has(e))return;var n=new i(e,this);if(e.setAttribute("inert",""),this._inertRoots.set(e,n),!this._document.body.contains(e))for(var o=e.parentNode;o;)11===o.nodeType&&c(o),o=o.parentNode}else{if(!this._inertRoots.has(e))return;this._inertRoots.get(e).destructor(),this._inertRoots.delete(e),e.removeAttribute("inert")}}},{key:"getInertRoot",value:function(e){return this._inertRoots.get(e)}},{key:"register",value:function(e,t){var n=this._managedNodes.get(e);return void 0!==n?n.addInertRoot(t):n=new s(e,t),this._managedNodes.set(e,n),n}},{key:"deregister",value:function(e,t){var n=this._managedNodes.get(e);return n?(n.removeInertRoot(t),n.destroyed&&this._managedNodes.delete(e),n):null}},{key:"_onDocumentLoaded",value:function(){n.call(this._document.querySelectorAll("[inert]")).forEach((function(e){this.setInert(e,!0)}),this),this._observer.observe(this._document.body||this._document.documentElement,{attributes:!0,subtree:!0,childList:!0})}},{key:"_watchForInert",value:function(e,t){var r=this;e.forEach((function(e){switch(e.type){case"childList":n.call(e.addedNodes).forEach((function(e){if(e.nodeType===Node.ELEMENT_NODE){var t=n.call(e.querySelectorAll("[inert]"));o.call(e,"[inert]")&&t.unshift(e),t.forEach((function(e){this.setInert(e,!0)}),r)}}),r);break;case"attributes":if("inert"!==e.attributeName)return;var t=e.target,i=t.hasAttribute("inert");r.setInert(t,i)}}),this)}}]),r}();if(!HTMLElement.prototype.hasOwnProperty("inert")){var u=new a(document);Object.defineProperty(HTMLElement.prototype,"inert",{enumerable:!0,get:function(){return this.hasAttribute("inert")},set:function(e){u.setInert(this,e)}})}}function l(e,t,n){if(e.nodeType==Node.ELEMENT_NODE){var o=e;t&&t(o);var r=o.shadowRoot;if(r)return void l(r,t,r);if("content"==o.localName){for(var i=o,s=i.getDistributedNodes?i.getDistributedNodes():[],a=0;a<s.length;a++)l(s[a],t,n);return}if("slot"==o.localName){for(var u=o,c=u.assignedNodes?u.assignedNodes({flatten:!0}):[],d=0;d<c.length;d++)l(c[d],t,n);return}}for(var h=e.firstChild;null!=h;)l(h,t,n),h=h.nextSibling}function c(e){if(!e.querySelector("style#inert-style, link#inert-style")){var t=document.createElement("style");t.setAttribute("id","inert-style"),t.textContent="\n[inert] {\n  pointer-events: none;\n  cursor: default;\n}\n\n[inert], [inert] * {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n",e.appendChild(t)}}}()}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e){var t="function"==typeof Map?new Map:void 0;return i=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return s(e,arguments,l(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),u(o,e)},i(e)}function s(e,t,n){return s=a()?Reflect.construct.bind():function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&u(r,n.prototype),r},s.apply(null,arguments)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}n(1102);var c=function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(h,n);var o,i,s,c,d=(s=h,c=a(),function(){var t,n=l(s);if(c){var o=l(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return function(t,n){if(n&&("object"===e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)}(this,t)});function h(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(e=d.call(this)).notificationsWrapperSelector=".js-notification-wrapper",e.modalWrapperSelector=".js-modal-wrapper",e.closeButtonSelector=".js-close-button",e.titleSelector=".js-title",e.bodySelector="body",e.mainSelector=".js-main",e.hasModalOpenModifier="abl-has-opened-modal",e.openedModifier="abl-opened",e.triggerSelector=".js-modal-trigger[data-uid='".concat(e.id,"']"),e.closed=!0,e.triggerElements=[],e.customEventsMap=new Map,e.customEventNames=["modalInit","modalOpen","modalClose","modalBeforeOpen","modalBeforeClose"],e.triggerAttributes=new Map([["aria-haspopup",!0],["aria-controls",e.id]]),e.modalAttributes=new Map([["role","dialog"],["aria-modal",!0]]),e}return o=h,i=[{key:"init",value:function(){var e=this;this.initElements(),this.initEvents(),this.initAttributes(),this.customEventNames.forEach((function(t){e.customEventsMap.set(t,e.makeEvent(t))})),this._observer=new MutationObserver(this.init),this.dispatchEvent(this.customEventsMap.get("modalInit"))}},{key:"initElements",value:function(){this.activeElement=document.activeElement,this.window=window,this.bodyElement=document.querySelector(this.bodySelector),this.mainElement=document.querySelector(this.mainSelector),this.modalWrapperElement=document.querySelector(this.modalWrapperSelector),this.notificationsWrapperElement=document.querySelector(this.notificationsWrapperSelector),this.titleElement=this.querySelector(this.titleSelector),this.closeBtn=this.querySelector(this.closeButtonSelector),this.triggerElements=document.querySelectorAll(this.triggerSelector)}},{key:"initAttributes",value:function(){var e=this;this.triggerElements.length>0&&this.triggerElements.forEach((function(t){e.setAttributesFromMap(t,e.triggerAttributes)})),this.setAttributesFromMap(this,this.modalAttributes),this.titleElement&&(this.titleElement.id="modal_title-".concat(this.id),this.setAttribute("aria-labelledby",this.titleElement.id))}},{key:"setAttributesFromMap",value:function(e,n){var o,r,i,s=function(e,n){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=t(e))){o&&(e=o);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return a=e.done,e},e:function(e){u=!0,s=e},f:function(){try{a||null==o.return||o.return()}finally{if(u)throw s}}}}(n);try{for(s.s();!(o=s.n()).done;){var a=(r=o.value,i=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return i}}(r,i)||t(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=a[0],l=a[1];e.setAttribute(u,l)}}catch(e){s.e(e)}finally{s.f()}}},{key:"initEvents",value:function(){this.closeBtn.addEventListener("click",this.onCloseButtonClick.bind(this)),this.window.addEventListener("click",this.onWindowClick.bind(this)),this.window.addEventListener("focusin",this.onWindowFocus.bind(this)),this.window.addEventListener("keydown",this.onWindowKeydown.bind(this)),this.window.addEventListener("mouseup",this.onWindowMouseUp.bind(this)),this.window.addEventListener("beforeOpen",this.onWindowBeforeOpen.bind(this))}},{key:"onWindowClick",value:function(e){this.matchModalTrigger(e.target,e)}},{key:"onWindowKeydown",value:function(e){var t=e.key;" "!==t&&"Spacebar"!==t||this.matchModalTrigger(e.target),"Escape"!==t&&"Esc"!==t||this.closed||(e.preventDefault(),this.close())}},{key:"onWindowFocus",value:function(e){this.activeElement=e.target}},{key:"onWindowMouseUp",value:function(e){this.closed||this.closest(e.target,"#".concat(this.id))||(e.preventDefault(),this.close())}},{key:"onWindowBeforeOpen",value:function(e){this.closed||e.target===this||this.close(!0)}},{key:"onCloseButtonClick",value:function(e){this.close()}},{key:"makeEvent",value:function(e){if("function"==typeof window.CustomEvent)return new CustomEvent(e,{bubbles:!0,cancelable:!1});var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!0,!0,{}),t}},{key:"matchModalTrigger",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.closest(e,this.triggerSelector)&&(this.open(),t&&t.preventDefault())}},{key:"closest",value:function(e,t){var n=Element.prototype.matches||Element.prototype.msMatchesSelector;do{if(n.call(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}},{key:"open",value:function(e){this.dispatchEvent(this.customEventsMap.get("modalBeforeOpen")),this.classList.add(this.openedModifier),this.bodyElement.classList.add(this.hasModalOpenModifier),this.mainElement.setAttribute("aria-hidden",!0),this.mainElement.inert=!0,this.notificationsWrapperElement.setAttribute("aria-hidden",!0),this.notificationsWrapperElement.inert=!0,e||(this.focusedElement=this.activeElement),this.closed=!1,this.focus(),this.dispatchEvent(this.customEventsMap.get("modalOpen"))}},{key:"close",value:function(e){this.dispatchEvent(this.customEventsMap.get("modalBeforeClose")),this.classList.remove(this.openedModifier),this.bodyElement.classList.remove(this.hasModalOpenModifier),this.mainElement.setAttribute("aria-hidden",!1),this.mainElement.inert=!1,this.notificationsWrapperElement.setAttribute("aria-hidden",!1),this.notificationsWrapperElement.inert=!1,this.closed=!0;var t=this.closest(this.focusedElement,".modal");t&&t.open(!0),e||this.focusedElement.focus(),this.dispatchEvent(this.customEventsMap.get("modalClose"))}},{key:"connectedCallback",value:function(){this.children.length&&this.init(),this._observer.observe(this,{childList:!0})}},{key:"disconnectedCallback",value:function(){this._observer.disconnect()}}],i&&r(o.prototype,i),Object.defineProperty(o,"prototype",{writable:!1}),h}(i(HTMLElement));function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},f.apply(this,arguments)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(s,e);var t,n,o,r,i=(o=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(o);if(r){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this)).triggerSelector=".js-modal-trigger[data-youtube-id]",e.contentSelector=".js-content",e.contentElement=e.querySelector(e.contentSelector),e.triggerAttributes=new Map([["role","button"],["aria-haspopup",!0],["aria-controls",e.id]]),e}return t=s,n=[{key:"init",value:function(){f(y(s.prototype),"init",this).call(this);for(var e=0;e<this.triggerElements.length;e++){var t=this.triggerElements[e];if(t.hasAttribute("data-autoplay")){this.matchModalTrigger(t);break}}}},{key:"close",value:function(){this.contentElement.innerHTML="",f(y(s.prototype),"close",this).call(this)}},{key:"matchModalTrigger",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.closest(e,this.triggerSelector);if(n){var o=n.dataset.youtubeId,r=n.dataset.youtubeTitle;o&&(this.setYoutubeContent(o,r),this.open(),t&&t.preventDefault())}}},{key:"setYoutubeContent",value:function(e,t){this.contentElement.innerHTML="";var n=document.createElement("iframe");n.src="//www.youtube-nocookie.com/embed/".concat(e).concat("?enablejsapi=1"),n.setAttribute("frameborder",0),n.setAttribute("allowfullscreen",!0),n.className="abl-ratio-fill",this.contentElement.appendChild(n),t&&(this.titleElement.innerText=t),window._paq=window._paq||[],window._paq.push(["MediaAnalytics::scanForMedia",this.contentElement])}}],n&&h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(c);customElements.define("abl-modal",c),customElements.define("abl-youtube-modal",b)})()})();
//# sourceMappingURL=modal-175c0603dab310c7f043.js.map